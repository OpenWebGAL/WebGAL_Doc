<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.66" />
    <meta name="theme" content="VuePress Theme Hope" />
    <link rel="alternate" hreflang="zh-cn" href="https://docs.openwebgal.com/tech/"><link rel="alternate" hreflang="ja-jp" href="https://docs.openwebgal.com/ja/tech/"><meta property="og:url" content="https://docs.openwebgal.com/en/tech/"><meta property="og:site_name" content="WebGAL Doc"><meta property="og:title" content="WebGAL Technology Introduction"><meta property="og:description" content="Scene System and Preloading Scene Acquisition WebGAL's scenes are file-based, generally WebGAL script files with the suffix .txt. Just like many programming languages have a mai..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:locale:alternate" content="ja-JP"><meta property="og:updated_time" content="2024-08-03T12:58:45.000Z"><meta property="article:author" content="Mahiru"><meta property="article:modified_time" content="2024-08-03T12:58:45.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"WebGAL Technology Introduction","image":[""],"dateModified":"2024-08-03T12:58:45.000Z","author":[{"@type":"Person","name":"Mahiru","url":"https://github.com/MakinoharaShoko"}]}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-6XPF6Q2WY0"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-6XPF6Q2WY0');
    </script><script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-NP6X74J');
    </script><title>WebGAL Technology Introduction | WebGAL Doc</title><meta name="description" content="Scene System and Preloading Scene Acquisition WebGAL's scenes are file-based, generally WebGAL script files with the suffix .txt. Just like many programming languages have a mai...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-fd3e5ebe.css" as="style"><link rel="stylesheet" href="/assets/style-fd3e5ebe.css">
    <link rel="modulepreload" href="/assets/app-962cd971.js"><link rel="modulepreload" href="/assets/index.html-8bc74f97.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/index.html-6bf383ff.js"><link rel="prefetch" href="/assets/index.html-d8153bf3.js" as="script"><link rel="prefetch" href="/assets/config.html-cd035188.js" as="script"><link rel="prefetch" href="/assets/derivative.html-d85942d8.js" as="script"><link rel="prefetch" href="/assets/faq.html-6a452120.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-3355c4f4.js" as="script"><link rel="prefetch" href="/assets/live2D.html-ca1f3cf9.js" as="script"><link rel="prefetch" href="/assets/migration.html-f86e525d.js" as="script"><link rel="prefetch" href="/assets/resources.html-2168df70.js" as="script"><link rel="prefetch" href="/assets/showcase-your-game.html-8a673368.js" as="script"><link rel="prefetch" href="/assets/win7.html-b5bd8725.js" as="script"><link rel="prefetch" href="/assets/joinus.html-1a082100.js" as="script"><link rel="prefetch" href="/assets/index.html-d3a17fa4.js" as="script"><link rel="prefetch" href="/assets/index.html-2be673c5.js" as="script"><link rel="prefetch" href="/assets/config.html-57ddfae1.js" as="script"><link rel="prefetch" href="/assets/derivative.html-2d9c15f0.js" as="script"><link rel="prefetch" href="/assets/faq.html-1705eb2f.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-7dcc28fa.js" as="script"><link rel="prefetch" href="/assets/live2D.html-9a7fcb45.js" as="script"><link rel="prefetch" href="/assets/migration.html-73f029d3.js" as="script"><link rel="prefetch" href="/assets/resources.html-92ebddb8.js" as="script"><link rel="prefetch" href="/assets/showcase-your-game.html-98f429b7.js" as="script"><link rel="prefetch" href="/assets/win7.html-356310f7.js" as="script"><link rel="prefetch" href="/assets/index.html-6b0d87d9.js" as="script"><link rel="prefetch" href="/assets/index.html-f2a11eb0.js" as="script"><link rel="prefetch" href="/assets/config.html-7026a55f.js" as="script"><link rel="prefetch" href="/assets/derivative.html-30273e97.js" as="script"><link rel="prefetch" href="/assets/faq.html-ac945998.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-94a94471.js" as="script"><link rel="prefetch" href="/assets/live2D.html-b14c34ab.js" as="script"><link rel="prefetch" href="/assets/migration.html-615f0c5b.js" as="script"><link rel="prefetch" href="/assets/resources.html-1c858f41.js" as="script"><link rel="prefetch" href="/assets/showcase-your-game.html-0ab48895.js" as="script"><link rel="prefetch" href="/assets/win7.html-db5ab66e.js" as="script"><link rel="prefetch" href="/assets/index.html-7a992c64.js" as="script"><link rel="prefetch" href="/assets/index.html-fa79e62f.js" as="script"><link rel="prefetch" href="/assets/index.html-c60d79b5.js" as="script"><link rel="prefetch" href="/assets/index.html-287f9e33.js" as="script"><link rel="prefetch" href="/assets/animation.html-11136986.js" as="script"><link rel="prefetch" href="/assets/audio.html-c6ec4f8d.js" as="script"><link rel="prefetch" href="/assets/base.html-7dd6e3dc.js" as="script"><link rel="prefetch" href="/assets/bg-and-figure.html-4b9782a1.js" as="script"><link rel="prefetch" href="/assets/dialogue.html-e9b1dd3c.js" as="script"><link rel="prefetch" href="/assets/scenes.html-ad7950b6.js" as="script"><link rel="prefetch" href="/assets/special-effect.html-bcd67a24.js" as="script"><link rel="prefetch" href="/assets/variable.html-b7aa04e7.js" as="script"><link rel="prefetch" href="/assets/video.html-e2f7f1e6.js" as="script"><link rel="prefetch" href="/assets/joinus.html-3eb38547.js" as="script"><link rel="prefetch" href="/assets/index.html-092b74b2.js" as="script"><link rel="prefetch" href="/assets/index.html-6755ae9c.js" as="script"><link rel="prefetch" href="/assets/index.html-6e3dfd3a.js" as="script"><link rel="prefetch" href="/assets/index.html-205f0a7e.js" as="script"><link rel="prefetch" href="/assets/index.html-6bfaf3a9.js" as="script"><link rel="prefetch" href="/assets/animation.html-3fd707cc.js" as="script"><link rel="prefetch" href="/assets/audio.html-3d3ead4a.js" as="script"><link rel="prefetch" href="/assets/base.html-e726bcfe.js" as="script"><link rel="prefetch" href="/assets/bg-and-figure.html-074c0ad8.js" as="script"><link rel="prefetch" href="/assets/dialogue.html-bc52cb19.js" as="script"><link rel="prefetch" href="/assets/scenes.html-52a14efe.js" as="script"><link rel="prefetch" href="/assets/special-effect.html-01f15110.js" as="script"><link rel="prefetch" href="/assets/variable.html-97aa979e.js" as="script"><link rel="prefetch" href="/assets/video.html-c47574bc.js" as="script"><link rel="prefetch" href="/assets/joinus.html-20e48b17.js" as="script"><link rel="prefetch" href="/assets/index.html-dc6742a8.js" as="script"><link rel="prefetch" href="/assets/index.html-cee8f5ed.js" as="script"><link rel="prefetch" href="/assets/index.html-79f09a05.js" as="script"><link rel="prefetch" href="/assets/index.html-ea525cf6.js" as="script"><link rel="prefetch" href="/assets/index.html-51fa9ab0.js" as="script"><link rel="prefetch" href="/assets/index.html-bad04a29.js" as="script"><link rel="prefetch" href="/assets/animation.html-1c6778ae.js" as="script"><link rel="prefetch" href="/assets/audio.html-9a5f8953.js" as="script"><link rel="prefetch" href="/assets/base.html-e67b9e84.js" as="script"><link rel="prefetch" href="/assets/bg-and-figure.html-93aa1f9a.js" as="script"><link rel="prefetch" href="/assets/dialogue.html-222754f7.js" as="script"><link rel="prefetch" href="/assets/scenes.html-01f842e5.js" as="script"><link rel="prefetch" href="/assets/special-effect.html-12784341.js" as="script"><link rel="prefetch" href="/assets/variable.html-66574071.js" as="script"><link rel="prefetch" href="/assets/video.html-a3a39534.js" as="script"><link rel="prefetch" href="/assets/index.html-92be3501.js" as="script"><link rel="prefetch" href="/assets/index.html-d93ff27f.js" as="script"><link rel="prefetch" href="/assets/index.html-2042a77a.js" as="script"><link rel="prefetch" href="/assets/index.html-55111343.js" as="script"><link rel="prefetch" href="/assets/index.html-d6a11c10.js" as="script"><link rel="prefetch" href="/assets/index.html-ac13f307.js" as="script"><link rel="prefetch" href="/assets/index.html-76e49be2.js" as="script"><link rel="prefetch" href="/assets/index.html-79626ee1.js" as="script"><link rel="prefetch" href="/assets/index.html-c7b76f95.js" as="script"><link rel="prefetch" href="/assets/404.html-e148c582.js" as="script"><link rel="prefetch" href="/assets/index.html-78844550.js" as="script"><link rel="prefetch" href="/assets/config.html-8f5f952a.js" as="script"><link rel="prefetch" href="/assets/derivative.html-235d30d5.js" as="script"><link rel="prefetch" href="/assets/faq.html-56e29da0.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-d01440a9.js" as="script"><link rel="prefetch" href="/assets/live2D.html-6ec66096.js" as="script"><link rel="prefetch" href="/assets/migration.html-dd19517f.js" as="script"><link rel="prefetch" href="/assets/resources.html-6250f5c5.js" as="script"><link rel="prefetch" href="/assets/showcase-your-game.html-a266d436.js" as="script"><link rel="prefetch" href="/assets/win7.html-a5512568.js" as="script"><link rel="prefetch" href="/assets/joinus.html-a2fedcf1.js" as="script"><link rel="prefetch" href="/assets/index.html-4a9e90a3.js" as="script"><link rel="prefetch" href="/assets/index.html-a9b89195.js" as="script"><link rel="prefetch" href="/assets/config.html-b6cd8e41.js" as="script"><link rel="prefetch" href="/assets/derivative.html-92843e2d.js" as="script"><link rel="prefetch" href="/assets/faq.html-d1deb05a.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-5a8445ef.js" as="script"><link rel="prefetch" href="/assets/live2D.html-844ba00a.js" as="script"><link rel="prefetch" href="/assets/migration.html-451e1f3f.js" as="script"><link rel="prefetch" href="/assets/resources.html-0a515965.js" as="script"><link rel="prefetch" href="/assets/showcase-your-game.html-95b3cbca.js" as="script"><link rel="prefetch" href="/assets/win7.html-f258ba71.js" as="script"><link rel="prefetch" href="/assets/index.html-5b060087.js" as="script"><link rel="prefetch" href="/assets/index.html-c7b49638.js" as="script"><link rel="prefetch" href="/assets/config.html-4e96af61.js" as="script"><link rel="prefetch" href="/assets/derivative.html-2c89165b.js" as="script"><link rel="prefetch" href="/assets/faq.html-a2f63221.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-4c469be7.js" as="script"><link rel="prefetch" href="/assets/live2D.html-bb88722a.js" as="script"><link rel="prefetch" href="/assets/migration.html-c7398862.js" as="script"><link rel="prefetch" href="/assets/resources.html-d23d0479.js" as="script"><link rel="prefetch" href="/assets/showcase-your-game.html-da2d7734.js" as="script"><link rel="prefetch" href="/assets/win7.html-bdbf2427.js" as="script"><link rel="prefetch" href="/assets/index.html-46700f5e.js" as="script"><link rel="prefetch" href="/assets/index.html-d6aed356.js" as="script"><link rel="prefetch" href="/assets/index.html-87d4f44d.js" as="script"><link rel="prefetch" href="/assets/index.html-af0d6aeb.js" as="script"><link rel="prefetch" href="/assets/animation.html-f4050e01.js" as="script"><link rel="prefetch" href="/assets/audio.html-ae3b80de.js" as="script"><link rel="prefetch" href="/assets/base.html-74e07cdf.js" as="script"><link rel="prefetch" href="/assets/bg-and-figure.html-73911a9a.js" as="script"><link rel="prefetch" href="/assets/dialogue.html-91483a25.js" as="script"><link rel="prefetch" href="/assets/scenes.html-318a738e.js" as="script"><link rel="prefetch" href="/assets/special-effect.html-2548158b.js" as="script"><link rel="prefetch" href="/assets/variable.html-b617ee96.js" as="script"><link rel="prefetch" href="/assets/video.html-67a23fd8.js" as="script"><link rel="prefetch" href="/assets/joinus.html-12ca7d88.js" as="script"><link rel="prefetch" href="/assets/index.html-7c0dd929.js" as="script"><link rel="prefetch" href="/assets/index.html-374b40a7.js" as="script"><link rel="prefetch" href="/assets/index.html-8bb5a807.js" as="script"><link rel="prefetch" href="/assets/index.html-4b5b9051.js" as="script"><link rel="prefetch" href="/assets/index.html-f592c096.js" as="script"><link rel="prefetch" href="/assets/animation.html-9a7105f0.js" as="script"><link rel="prefetch" href="/assets/audio.html-9c3dfe25.js" as="script"><link rel="prefetch" href="/assets/base.html-6c8eb903.js" as="script"><link rel="prefetch" href="/assets/bg-and-figure.html-6878cd14.js" as="script"><link rel="prefetch" href="/assets/dialogue.html-b3ba5e36.js" as="script"><link rel="prefetch" href="/assets/scenes.html-6f724639.js" as="script"><link rel="prefetch" href="/assets/special-effect.html-0c8b1234.js" as="script"><link rel="prefetch" href="/assets/variable.html-55997278.js" as="script"><link rel="prefetch" href="/assets/video.html-8638fc63.js" as="script"><link rel="prefetch" href="/assets/joinus.html-b6ae5b72.js" as="script"><link rel="prefetch" href="/assets/index.html-9c18f953.js" as="script"><link rel="prefetch" href="/assets/index.html-bd0252ec.js" as="script"><link rel="prefetch" href="/assets/index.html-b5a5cae3.js" as="script"><link rel="prefetch" href="/assets/index.html-f1ae8025.js" as="script"><link rel="prefetch" href="/assets/index.html-e1d414fe.js" as="script"><link rel="prefetch" href="/assets/index.html-6052db35.js" as="script"><link rel="prefetch" href="/assets/animation.html-b69dad9c.js" as="script"><link rel="prefetch" href="/assets/audio.html-f02165be.js" as="script"><link rel="prefetch" href="/assets/base.html-46775e95.js" as="script"><link rel="prefetch" href="/assets/bg-and-figure.html-d5c0e87d.js" as="script"><link rel="prefetch" href="/assets/dialogue.html-964882bf.js" as="script"><link rel="prefetch" href="/assets/scenes.html-365ab07a.js" as="script"><link rel="prefetch" href="/assets/special-effect.html-ddb7acdd.js" as="script"><link rel="prefetch" href="/assets/variable.html-4eb45895.js" as="script"><link rel="prefetch" href="/assets/video.html-79763fa0.js" as="script"><link rel="prefetch" href="/assets/index.html-54340ee5.js" as="script"><link rel="prefetch" href="/assets/index.html-70d2fa09.js" as="script"><link rel="prefetch" href="/assets/index.html-aa3a9fe5.js" as="script"><link rel="prefetch" href="/assets/index.html-859ae0cb.js" as="script"><link rel="prefetch" href="/assets/index.html-889880de.js" as="script"><link rel="prefetch" href="/assets/index.html-82efec75.js" as="script"><link rel="prefetch" href="/assets/index.html-3f695670.js" as="script"><link rel="prefetch" href="/assets/index.html-1185d744.js" as="script"><link rel="prefetch" href="/assets/index.html-bd352bbd.js" as="script"><link rel="prefetch" href="/assets/404.html-d1a4e25d.js" as="script"><link rel="prefetch" href="/assets/auto-712ff3ee.js" as="script"><link rel="prefetch" href="/assets/index-2bf332f6.js" as="script"><link rel="prefetch" href="/assets/flowchart-c441f34d.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-8af79fb1.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-abe06b83.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-aea0faae.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-5794cde2.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/en/"><img class="vp-nav-logo" src="/favicon.ico" alt="WebGAL Doc"><!----><span class="vp-site-name hide-in-pad">WebGAL Doc</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a href="https://openwebgal.com/en/" rel="noopener noreferrer" target="_blank" aria-label="HOME" class="nav-link"><!---->HOME<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="MORE"><span class="title"><!---->MORE</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>WebGAL Infomations</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/en/info/"><!---->Version Updates<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Contributing</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/en/developers/"><!---->Custom development and participation contribution<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link active" href="/en/tech/"><!---->WebGAL Technology Introduction<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Join Discuss Community</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://jq.qq.com/?_wv=1027&amp;k=gYVremLy" rel="noopener noreferrer" target="_blank" aria-label="QQ Group: 709293432" class="nav-link"><!---->QQ Group: 709293432<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://discord.gg/kPrQkJttJy" rel="noopener noreferrer" target="_blank" aria-label="Discord" class="nav-link"><!---->Discord<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Follow Developer</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://space.bilibili.com/7321105" rel="noopener noreferrer" target="_blank" aria-label="Bilibili" class="nav-link"><!---->Bilibili<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://github.com/MakinoharaShoko" rel="noopener noreferrer" target="_blank" aria-label="Github" class="nav-link"><!---->Github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Sponsor the project</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/en/sponsor/"><!---->Sponsor<!----></a></li></ul></li></ul></button></div></div></nav><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/tech/"><!---->ÁÆÄ‰Ωì‰∏≠Êñá<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link active" href="/en/tech/"><!---->English<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/ja/tech/"><!---->Êó•Êú¨Ë™û<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><!----><span class="vp-sidebar-title">Game Development Guide</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/getting-started.html"><!---->How to start making a WebGAL?<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/resources.html"><!---->Manage game resources<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/config.html"><!---->Edit Game Configuration<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/publish.html"><!---->Deploy or publish my visual novel?<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/faq.html"><!---->Possible Problems and Solutions<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/live2D.html"><!---->About Live2D<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/migration.html"><!---->Migrate Game Files After Editor Update<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/derivative.html"><!---->How to use custom engine<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><!----><span class="vp-sidebar-title">WebGAL Script Tutorial</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/webgal-script/base.html"><!---->Basic<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/webgal-script/dialogue.html"><!---->Dialogue<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/webgal-script/bg-and-figure.html"><!---->Backgrounds and Figures<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/webgal-script/audio.html"><!---->Audio<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/webgal-script/video.html"><!---->Video<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/webgal-script/scenes.html"><!---->Scene and Branch<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/webgal-script/variable.html"><!---->Variables<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/webgal-script/animation.html"><!---->Animation Effects<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/webgal-script/special-effect.html"><!---->Effects<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><!----><span class="vp-sidebar-title">Development Information</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/developers.html"><!---->Custom development and participation contribution<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/tech.html"><!---->WebGAL Technology Introduction<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/info.html"><!---->WebGAL News<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/sponsor.html"><!---->Sponsorship<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/en/developers/joinus.html"><!---->Join us to build the future of WebGAL<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->WebGAL Technology Introduction</h1><div class="page-info"><span class="page-author-info" aria-label="Authorüñä" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/MakinoharaShoko" target="_blank" rel="noopener noreferrer">Mahiru</a></span><span property="author" content="Mahiru"></span></span><!----><span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-08-03T12:58:45.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time‚åõ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 7 min</span><meta property="timeRequired" content="PT7M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#scene-system-and-preloading">Scene System and Preloading</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#scene-acquisition">Scene Acquisition</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#preloading-resources-in-scenes">Preloading Resources in Scenes</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#webgal-parser">WebGAL Parser</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#statement-parsing-i-splitting-scenes">Statement Parsing I Splitting Scenes</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#statement-parsing-ii-script-type-parsing">Statement Parsing II Script Type Parsing</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#statement-parsing-iii-special-handling-of-dialogues">Statement Parsing III Special Handling of Dialogues</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#statement-parsing-iv-parameter-parsing">Statement Parsing ‚Ö£ Parameter Parsing</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#statement-parsing-v-resource-processing-and-preloading">Statement Parsing ‚Ö§ Resource Processing and Preloading</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#flow-control-system">Flow Control System</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#preparatory-stage-pre-step-operation">Preparatory Stage: Pre-step Operation</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#formal-stage-i-read-instructions-perform-conditional-judgment">Formal Stage I: Read Instructions, Perform Conditional Judgment</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#formal-stage-ii-call-get-the-performance-control-module-and-send-the-performance-controller">Formal Stage II: Call, Get the Performance Control Module and Send the Performance Controller</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#closing-stage-handling-continuous-performances-updating-backlog">Closing Stage: Handling Continuous Performances, Updating Backlog</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#automatic-and-fast-forward">Automatic and Fast Forward</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#performance-control">Performance Control</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#webgal-performance-types">WebGAL Performance Types</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#automatic-destruction-of-performances-end-judgment-blocking-logic">Automatic Destruction of Performances, End Judgment, Blocking Logic</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#stage-controller-and-animation-control">Stage Controller and Animation Control</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#data-driven-pixi-stage-controller">Data-driven Pixi Stage Controller</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#animation-and-transform-control">Animation and &quot;Transform&quot; Control</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#data-driven-filter-manager">Data-driven Filter Manager</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#save-and-load-backtracking-and-user-data">Save and Load, Backtracking and User Data</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#introduction-to-webgal-stage-status-table">Introduction to WebGAL Stage Status Table</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#storage-and-recovery-of-performance-status">Storage and Recovery of Performance Status</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#storage-of-archives-and-other-user-data">Storage of Archives and Other User Data</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#appreciation-module-and-some-details">Appreciation Module, and Some Details</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#appreciation-module">Appreciation Module</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#keep-browser-state-and-continue-game">Keep Browser State and &quot;Continue Game&quot;</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#shortcut-keys-and-mouse-operations">Shortcut Keys and Mouse Operations</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="webgal-technology-introduction" tabindex="-1"><a class="header-anchor" href="#webgal-technology-introduction" aria-hidden="true">#</a> WebGAL Technology Introduction</h1><h2 id="scene-system-and-preloading" tabindex="-1"><a class="header-anchor" href="#scene-system-and-preloading" aria-hidden="true">#</a> Scene System and Preloading</h2><h3 id="scene-acquisition" tabindex="-1"><a class="header-anchor" href="#scene-acquisition" aria-hidden="true">#</a> Scene Acquisition</h3><p>WebGAL&#39;s scenes are file-based, generally WebGAL script files with the suffix <code>.txt</code>. Just like many programming languages have a <code>main</code> function as the entry, WebGAL&#39;s entry scene is <code>start.txt</code>. WebGAL will first try to get <code>start.txt</code>, and then call the WebGAL parser to parse the script file into a scene object that the WebGAL engine can execute. In any scene, you can use <code>choose</code>, <code>changeScene</code>, <code>callScene</code> and other methods to switch or &quot;call&quot; scenes. Switching scenes directly replaces the current scene, while &quot;calling&quot; scenes pushes a new scene into the scene call stack to start execution, and returns to the parent scene that called the scene after execution.</p><h3 id="preloading-resources-in-scenes" tabindex="-1"><a class="header-anchor" href="#preloading-resources-in-scenes" aria-hidden="true">#</a> Preloading Resources in Scenes</h3><p>While WebGAL parses the scene, the resources contained in the scene are also parsed. For each scene file, WebGAL will include all the resources it contains, including images, audio, and video files. These files will start preloading after the scene is parsed, to minimize the chance that the user will have to wait for resources to load during gameplay. At the same time, in order to make the game smoother when switching scenes, WebGAL will also load the resources of the scene files referenced by the current scene file. In order to prevent waste of resources, WebGAL will only expand one layer of scenes for preloading.</p><h2 id="webgal-parser" tabindex="-1"><a class="header-anchor" href="#webgal-parser" aria-hidden="true">#</a> WebGAL Parser</h2><h3 id="statement-parsing-i-splitting-scenes" tabindex="-1"><a class="header-anchor" href="#statement-parsing-i-splitting-scenes" aria-hidden="true">#</a> Statement Parsing I Splitting Scenes</h3><p>WebGAL scene files are mainly divided by lines to distinguish scripts. At the beginning of parsing, the WebGAL parser will split the script according to the newline character. If there is a semicolon, the characters before the semicolon will be taken. Therefore, the way to comment in WebGAL scripts is to write the script after a semicolon.</p><h3 id="statement-parsing-ii-script-type-parsing" tabindex="-1"><a class="header-anchor" href="#statement-parsing-ii-script-type-parsing" aria-hidden="true">#</a> Statement Parsing II Script Type Parsing</h3><p>WebGAL scripts are generally in the form of</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>command:content -arg1 -arg2 ......;comment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Among them, <code>command</code> represents the statement instruction, such as <code>bgm</code>, <code>changeFigure</code>, <code>choose</code> and other instructions, which are used to indicate the control action corresponding to the statement. <code>content</code> represents the main content of the statement, such as <code>bgm:Teabreak.mp3</code> which means playing an audio file as bgm.</p><h3 id="statement-parsing-iii-special-handling-of-dialogues" tabindex="-1"><a class="header-anchor" href="#statement-parsing-iii-special-handling-of-dialogues" aria-hidden="true">#</a> Statement Parsing III Special Handling of Dialogues</h3><p>WebGAL&#39;s dialogues are generally written in the following form:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Ê£ÆÂ∑ùÁî±ÁªÆ:ËÉ∏„Å´„Å§„Åã„Åà„Å¶„ÅÑ„Çã„Åì„Å®„Çí„ÄÅÊó∂„ÅØËß£ÂÜ≥„Åó„Å¶„Åè„Çå„Å™„ÅÑ„ÄÇÂøòÂç¥„ÅÆ„É©„Éô„É´„ÇíË¥¥„Çã„Å†„Åë„Åß -voice_1.ogg;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>For visual novels, since dialogues are generally the main part of the script, WebGAL has designed a syntactic sugar. If any part of the <code>command</code> of a script cannot be parsed into any kind of instruction, WebGAL will treat it as a dialogue. And the voice can also be abbreviated with its parameters, just give the file name. The above dialogue will actually be parsed into the <code>say</code> instruction.</p><p>Therefore, the true representation of this dialogue should be:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>say:ËÉ∏„Å´„Å§„Åã„Åà„Å¶„ÅÑ„Çã„Åì„Å®„Çí„ÄÅÊó∂„ÅØËß£ÂÜ≥„Åó„Å¶„Åè„Çå„Å™„ÅÑ„ÄÇÂøòÂç¥„ÅÆ„É©„Éô„É´„ÇíË¥¥„Çã„Å†„Åë„Åß -speaker=Ê£ÆÂ∑ùÁî±ÁªÆ vocal=voice_1.ogg;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>In addition, if the dialogue is spoken by one person, the person&#39;s name can be omitted before the speaker changes:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Ê£ÆÂ∑ùÁî±ÁªÆ:ËÉ∏„Å´„Å§„Åã„Åà„Å¶„ÅÑ„Çã„Åì„Å®„Çí;
Êó∂„ÅØËß£ÂÜ≥„Åó„Å¶„Åè„Çå„Å™„ÅÑ;
ÂøòÂç¥„ÅÆ„É©„Éô„É´„ÇíË¥¥„Çã„Å†„Åë„Åß;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The special handling of dialogues greatly improves the efficiency of script writing.</p><h3 id="statement-parsing-iv-parameter-parsing" tabindex="-1"><a class="header-anchor" href="#statement-parsing-iv-parameter-parsing" aria-hidden="true">#</a> Statement Parsing ‚Ö£ Parameter Parsing</h3><p>Additional parameters are separated by <code>-</code> after <code>content</code>. It is important to note that there should be a space before the hyphen <code>-</code> of the additional parameter, otherwise WebGAL may think that this is not a parameter but a normal hyphen.</p><p>WebGAL&#39;s parameters are represented in the form of <code>-key=value</code>, where the type of <code>key</code> is <code>string</code>, and the type of <code>value</code> can be dynamically determined and can exist in the following three possible types: <code>string</code>, <code>number</code>, <code>boolean</code>.</p><p>For example, the <code>value</code> of <code>-key=s</code> is <code>string</code>; the <code>value</code> of <code>-key=1</code> is <code>number</code>, and the <code>value</code> of <code>-key=true</code> or <code>-key=false</code> is <code>boolean</code>.</p><p>Among them, parameters that only write out <code>key</code> and omit <code>value</code> will be parsed into <code>-key=true</code>, which is a syntactic sugar. This syntactic sugar is very important, because there is an important parameter <code>-next</code> in WebGAL, which is used to indicate that the next statement is executed immediately after the current statement is executed. If the omission indication is not written, <code>-next=true</code> needs to be written each time.</p><h3 id="statement-parsing-v-resource-processing-and-preloading" tabindex="-1"><a class="header-anchor" href="#statement-parsing-v-resource-processing-and-preloading" aria-hidden="true">#</a> Statement Parsing ‚Ö§ Resource Processing and Preloading</h3><p>When parsing statements, you can get the resources required by the statement. For example, the <code>bgm</code> statement usually requires audio resources, the <code>playVideo</code> statement usually requires video resources, and the <code>changeBg</code> statement usually requires image resources. The WebGAL scene parser will merge all the resources required by the statements in all scenes and hand them over to the preloader to preload the resources. At the same time, when encountering situations such as <code>changeScene</code>, <code>choose</code>, <code>callScene</code> that need to call sub-scenes, the sub-scenes will also be scanned, parsed, and the resources in them will be preloaded.</p><h2 id="flow-control-system" tabindex="-1"><a class="header-anchor" href="#flow-control-system" aria-hidden="true">#</a> Flow Control System</h2><h3 id="preparatory-stage-pre-step-operation" tabindex="-1"><a class="header-anchor" href="#preparatory-stage-pre-step-operation" aria-hidden="true">#</a> Preparatory Stage: Pre-step Operation</h3><p>The flow control module obtains an instruction from the scene instruction storage module (this module is a submodule of the scene management module), and performs pre-step operations and checks. Pre-step operations mainly include stopping animations, videos and other visual effects with duration that have not ended in the previous process. This operation is because when the user clicks the mouse or presses the specified shortcut key on the keyboard before the previous process is over, it means that the user may not want to wait until the process ends normally after reaching the duration, but wants to skip this process. At this time, the flow control system will call the corresponding early stop process function (each visual effect needs to provide a function to unload the effect, calling this function will completely unload the effect). The inspection mainly includes checking whether there are visual effects that cannot be skipped and whether the last statement of the current scene has been reached. If there are visual effects that cannot be skipped (some visual effect scripts cannot be skipped due to their particularity, which are set by the article maintenance personnel), the user must wait until the duration is reached before entering the next process. If the last statement of the scene has been reached, the flow control module will check whether the scene call stack is empty. If it is not empty, the element at the top of the stack (a scene object) will be replaced with the scene stored in the current scene storage module, and the pointer of &quot;current statement&quot; will point to the first statement of the scene, and then execute this statement. If the scene call stack is empty, it can be regarded as the end of the interactive reading process. At this time, the engine will jump back to the main interface of the interactive reading.</p><h3 id="formal-stage-i-read-instructions-perform-conditional-judgment" tabindex="-1"><a class="header-anchor" href="#formal-stage-i-read-instructions-perform-conditional-judgment" aria-hidden="true">#</a> Formal Stage I: Read Instructions, Perform Conditional Judgment</h3><p>At this stage, the instructions will be read and judged conditionally. Since each instruction may contain parameters describing the execution conditions (when parameters), conditional judgments must be performed each time an instruction is executed. At this time, the flow control module sends the parameters describing the execution conditions to the variable and conditional judgment module to request conditional judgment. The conditional judgment module parses the conditional judgment expression, combines the internal variables stored by the engine for conditional judgment, and finally returns a conditional judgment result (true or false). The flow control module determines whether to execute this instruction based on this result. If not executed, skip all subsequent steps in the process and return to the preparation stage to prepare to read the next instruction.</p><p>If the conditional judgment gives a true result, the flow control module enters the formal stage II.</p><h3 id="formal-stage-ii-call-get-the-performance-control-module-and-send-the-performance-controller" tabindex="-1"><a class="header-anchor" href="#formal-stage-ii-call-get-the-performance-control-module-and-send-the-performance-controller" aria-hidden="true">#</a> Formal Stage II: Call, Get the Performance Control Module and Send the Performance Controller</h3><p>At this stage, the action to be executed by the instruction of the statement to be formally executed will be executed. Each type of instruction corresponds to an action, which is stored in the instruction configuration and execution module. In the instruction configuration and execution module, there are configurations for the actions corresponding to the instruction. The configuration of the action mainly includes which state modification operations the instruction needs to perform (such as modifying the background of the &quot;stage&quot; or switching the character image at a certain position), which animation or special effect operations (such as adding an animation effect to the background or character image or starting a special effect of raining or snowing), playing a multimedia resource, etc. This configuration will be sent to the instruction executor, and the corresponding action will be executed by the instruction executor specifically. After each instruction executor executes the specified action, a &quot;performance control module&quot; will be returned. The &quot;performance&quot; here refers to a visual effect with a duration. The &quot;performance control module&quot; mainly describes the description information of the visual effect currently being executed in the current process and the function used to unload the visual effect. This function will be automatically called after the visual effect reaches the duration, or it will be called in advance when the user issues an instruction to interrupt in advance. This module will be sent to the &quot;performance controller&quot;, which is responsible for maintaining the &quot;performance control module&quot;, including automatically unloading the &quot;performance&quot; after the duration is reached and the method called by the process controller in the preparation stage after the user operation is completed to end the &quot;performance&quot; in advance.</p><h3 id="closing-stage-handling-continuous-performances-updating-backlog" tabindex="-1"><a class="header-anchor" href="#closing-stage-handling-continuous-performances-updating-backlog" aria-hidden="true">#</a> Closing Stage: Handling Continuous Performances, Updating Backlog</h3><p>After the instruction execution is completed, enter the closing stage. In this stage, the maintenance of the reading history record is mainly handled. Because we need to record the user&#39;s reading history during the reading process, so that users can view their own reading history at any time and return to a certain record node. In traditional paper books or mixed text and graphic reading methods, users usually use the method of flipping back pages or scrolling the mouse wheel up to return to a previously read position. However, since the reading process of interactive reading may change with user operations, the traditional recording method (recording page numbers or scrolling positions, etc.) cannot be used. Therefore, at the end of each stage, the flow control module will record the current reading position (generally the nth instruction of a certain scene), as well as the current variable information and scene status information. In this way, when the user wants to return to a certain record node read in the past, it can be easily read and restored to the previously read position.</p><h3 id="automatic-and-fast-forward" tabindex="-1"><a class="header-anchor" href="#automatic-and-fast-forward" aria-hidden="true">#</a> Automatic and Fast Forward</h3><p>The automatic reading and fast-forwarding system essentially tries to replace the user to execute the step within a specified interval. The main difference between automatic and fast forwarding is that the priority and interval of the instructions they issue are different.</p><p>In automatic mode, every once in a while (depending on the speed at which the automatic mode is set), an instruction will be issued to the flow control system, requesting &quot;step&quot;. The priority of automatic mode is low, so when encountering a performance that blocks automatic (most performances, such as video playback, dialogue, animation, etc., are performances that block automatic mode), it will not be executed until there is no performance blocking automatic mode.</p><p>In fast-forward mode, most performances will be skipped, and only performances that require the user to perform some operations, such as selection branches, will not be skipped. The trigger interval of the fast-forward mode is also significantly shorter.</p><h2 id="performance-control" tabindex="-1"><a class="header-anchor" href="#performance-control" aria-hidden="true">#</a> Performance Control</h2><h3 id="webgal-performance-types" tabindex="-1"><a class="header-anchor" href="#webgal-performance-types" aria-hidden="true">#</a> WebGAL Performance Types</h3><h3 id="automatic-destruction-of-performances-end-judgment-blocking-logic" tabindex="-1"><a class="header-anchor" href="#automatic-destruction-of-performances-end-judgment-blocking-logic" aria-hidden="true">#</a> Automatic Destruction of Performances, End Judgment, Blocking Logic</h3><h2 id="stage-controller-and-animation-control" tabindex="-1"><a class="header-anchor" href="#stage-controller-and-animation-control" aria-hidden="true">#</a> Stage Controller and Animation Control</h2><h3 id="data-driven-pixi-stage-controller" tabindex="-1"><a class="header-anchor" href="#data-driven-pixi-stage-controller" aria-hidden="true">#</a> Data-driven Pixi Stage Controller</h3><h3 id="animation-and-transform-control" tabindex="-1"><a class="header-anchor" href="#animation-and-transform-control" aria-hidden="true">#</a> Animation and &quot;Transform&quot; Control</h3><h3 id="data-driven-filter-manager" tabindex="-1"><a class="header-anchor" href="#data-driven-filter-manager" aria-hidden="true">#</a> Data-driven Filter Manager</h3><h2 id="save-and-load-backtracking-and-user-data" tabindex="-1"><a class="header-anchor" href="#save-and-load-backtracking-and-user-data" aria-hidden="true">#</a> Save and Load, Backtracking and User Data</h2><h3 id="introduction-to-webgal-stage-status-table" tabindex="-1"><a class="header-anchor" href="#introduction-to-webgal-stage-status-table" aria-hidden="true">#</a> Introduction to WebGAL Stage Status Table</h3><h3 id="storage-and-recovery-of-performance-status" tabindex="-1"><a class="header-anchor" href="#storage-and-recovery-of-performance-status" aria-hidden="true">#</a> Storage and Recovery of Performance Status</h3><h3 id="storage-of-archives-and-other-user-data" tabindex="-1"><a class="header-anchor" href="#storage-of-archives-and-other-user-data" aria-hidden="true">#</a> Storage of Archives and Other User Data</h3><h2 id="appreciation-module-and-some-details" tabindex="-1"><a class="header-anchor" href="#appreciation-module-and-some-details" aria-hidden="true">#</a> Appreciation Module, and Some Details</h2><h3 id="appreciation-module" tabindex="-1"><a class="header-anchor" href="#appreciation-module" aria-hidden="true">#</a> Appreciation Module</h3><h3 id="keep-browser-state-and-continue-game" tabindex="-1"><a class="header-anchor" href="#keep-browser-state-and-continue-game" aria-hidden="true">#</a> Keep Browser State and &quot;Continue Game&quot;</h3><h3 id="shortcut-keys-and-mouse-operations" tabindex="-1"><a class="header-anchor" href="#shortcut-keys-and-mouse-operations" aria-hidden="true">#</a> Shortcut Keys and Mouse Operations</h3></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/MakinoharaShoko/WebGAL_Doc/edit/main/src/en/tech/readme.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: Mahiru_@outlook.com">Mahiru</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">MPL-2.0 Licensed</div><div class="vp-copyright">Copyright ¬© 2024 Mahiru</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-962cd971.js" defer></script>
  </body>
</html>
