<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开发信息文档 | WebGAL</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="界面美观、功能强大、易于开发的全新网页端视觉小说引擎">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.6c7d6307.js" as="script"><link rel="preload" href="/assets/js/2.62216773.js" as="script"><link rel="preload" href="/assets/js/8.c5dff380.js" as="script"><link rel="prefetch" href="/assets/js/10.abff06ab.js"><link rel="prefetch" href="/assets/js/3.535932b0.js"><link rel="prefetch" href="/assets/js/4.3dcf81a5.js"><link rel="prefetch" href="/assets/js/5.765f9924.js"><link rel="prefetch" href="/assets/js/6.c0754a73.js"><link rel="prefetch" href="/assets/js/7.105b372a.js"><link rel="prefetch" href="/assets/js/9.3771fcd3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">WebGAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  制作游戏
</a></div><div class="nav-item"><a href="/info/" class="nav-link">
  更新情报
</a></div><div class="nav-item"><a href="/developers/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  开发者指引
</a></div><div class="nav-item"><a href="https://github.com/MakinoharaShoko/WebGAL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          加入讨论群
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://jq.qq.com/?_wv=1027&amp;k=gYVremLy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  709293432
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          关注开发者
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://space.bilibili.com/7321105" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bilibili
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/MakinoharaShoko" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  制作游戏
</a></div><div class="nav-item"><a href="/info/" class="nav-link">
  更新情报
</a></div><div class="nav-item"><a href="/developers/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  开发者指引
</a></div><div class="nav-item"><a href="https://github.com/MakinoharaShoko/WebGAL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          加入讨论群
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://jq.qq.com/?_wv=1027&amp;k=gYVremLy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  709293432
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          关注开发者
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://space.bilibili.com/7321105" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bilibili
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/MakinoharaShoko" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>开发信息文档</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/developers/#分支说明" class="sidebar-link">分支说明</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/developers/#更新计划" class="sidebar-link">更新计划</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/developers/#_2022年5月" class="sidebar-link">2022年5月</a></li></ul></li><li><a href="/developers/#有关脚本格式的说明" class="sidebar-link">有关脚本格式的说明</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/developers/#自定义演出的调用说明" class="sidebar-link">自定义演出的调用说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/developers/#第一步、设计自定义脚本" class="sidebar-link">第一步、设计自定义脚本</a></li><li class="sidebar-sub-header"><a href="/developers/#第二步、在脚本解析器里解析你的脚本。" class="sidebar-link">第二步、在脚本解析器里解析你的脚本。</a></li><li class="sidebar-sub-header"><a href="/developers/#第三步、让演出调用器调用你的演出" class="sidebar-link">第三步、让演出调用器调用你的演出</a></li><li class="sidebar-sub-header"><a href="/developers/#最后一步、将你的演出函数与命令类型对应起来。" class="sidebar-link">最后一步、将你的演出函数与命令类型对应起来。</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="开发信息文档"><a href="#开发信息文档" class="header-anchor">#</a> 开发信息文档</h1> <h2 id="分支说明"><a href="#分支说明" class="header-anchor">#</a> 分支说明</h2> <div class="language- extra-class"><pre class="language-text"><code>main: 稳定版
4.X-dev: WebGAL 4.x 开发版
其他分支: 旧版本的留档
</code></pre></div><h2 id="更新计划"><a href="#更新计划" class="header-anchor">#</a> 更新计划</h2> <h3 id="_2022年5月"><a href="#_2022年5月" class="header-anchor">#</a> 2022年5月</h3> <h4 id="webgal-引擎"><a href="#webgal-引擎" class="header-anchor">#</a> WebGAL 引擎</h4> <p>1、添加变量与条件判断语法</p> <p>2、添加 CG、bgm 鉴赏</p> <p>3、设置界面分为三个字项，分别对应游戏、图像与音频设置</p> <p>4、添加立绘随对话进程推进改变的演出效果</p> <p>5、正式加入立绘的变换与特殊效果支持</p> <h4 id="webgal-origine-开发工具"><a href="#webgal-origine-开发工具" class="header-anchor">#</a> WebGAL Origine 开发工具</h4> <p>（注意）该版本为WebGAL Origine 1.X 的最后一个版本，下个版本将会重构 WebGAL Origine。</p> <p>1、添加游戏导出功能。</p> <p>2、在脚本编辑器中加入一些重要脚本的编辑功能，但不会再做更多支持，直到编辑器重构。</p> <h4 id="bug-fix"><a href="#bug-fix" class="header-anchor">#</a> Bug Fix</h4> <p>1、修复引擎立绘或背景没有默认动画的问题（已修复）</p> <p>2、修复人物立绘样式问题（已修复）</p> <p>3、修复在播放视频时回主页视频仍在播放问题（已修复）</p> <p>4、修复 SW 导致内容不更新问题</p> <h1 id="贡献者指引"><a href="#贡献者指引" class="header-anchor">#</a> 贡献者指引</h1> <h2 id="有关脚本格式的说明"><a href="#有关脚本格式的说明" class="header-anchor">#</a> 有关脚本格式的说明</h2> <p>语法：</p> <p><code>command:content -parameter1 -parameter2 ......;</code></p> <p>例如：</p> <p><code>changeFigure:testFigure04.png -left -next;</code></p> <h2 id="自定义演出的调用说明"><a href="#自定义演出的调用说明" class="header-anchor">#</a> 自定义演出的调用说明</h2> <p>如果你希望使用引擎调用一个自定义演出，请按照以下步骤逐步将你的脚本语句、演出调用与 WebGAL 整合。</p> <h3 id="第一步、设计自定义脚本"><a href="#第一步、设计自定义脚本" class="header-anchor">#</a> 第一步、设计自定义脚本</h3> <p>脚本的组成如前文所述，由命令、语句内容和参数列表组成。首先，你需要设计一段命令，用于执行你的自定义演出。</p> <p>例如，你希望展示一段 cg 。</p> <p>这时，你可以将命令设计为 cg 。命令的命名方式遵循小驼峰命名法。你也可以命名为 showCg 。</p> <p>现在，你需要将命令的主要部分作为语句内容。比如说 cg 图像的文件名。</p> <p><code>cg:cg1.png;</code></p> <p>这样，一个基本的自定义脚本就设计好了。接下来介绍如何设计参数。</p> <p>WebGAL 内置了一些参数，用于控制基本的流程。比如说 <code>-next</code> 这代表在这条语句执行后，无条件执行下一条语句，直至没有含有 <code>-next</code> 参数的语句为止。</p> <p>如果你希望自定义参数，你可以将参数设计为 <code>-key:value</code> 的形式。</p> <p>比如： <code>-duration=1s</code> <code>isHoldOn=true</code> <code>target_id=1</code></p> <p>如你所见，参数的值的类型可以是： 字符串、布尔值、数值。 WebGAL 会自动推算参数的类型。</p> <p>如果一个参数的值的类型是布尔值，那么假如你希望设置这个值为 <code>true</code> ，你可以使用简化写法：<code>-key</code>。</p> <p>在引擎里，其会被自动转化为 <code>-key=true</code>。</p> <h3 id="第二步、在脚本解析器里解析你的脚本。"><a href="#第二步、在脚本解析器里解析你的脚本。" class="header-anchor">#</a> 第二步、在脚本解析器里解析你的脚本。</h3> <p>编辑 <code>src/Core/config.ts</code>，将你的脚本的字符串与语句类型对应起来，语句类型在<code>src/interface/coreInterface/sceneInterface.ts</code></p> <p>如果你希望你的脚本在执行时自动执行下一句脚本（比如你改变了bgm，很显然你希望这一句脚本不会导致游戏流程的暂停，而是继续执行下一条语句），那么就在文件末尾处的 <code>nextList</code> 中加入你的自定义脚本的类型。</p> <h4 id="将语句中的文件名解析为资源路径"><a href="#将语句中的文件名解析为资源路径" class="header-anchor">#</a> 将语句中的文件名解析为资源路径</h4> <p><strong>如果你的语句不包含资源，那么这一步你什么都不用做。</strong></p> <p>现在，让我们将脚本内容中的文件名解析为引擎可以获取的路径。</p> <p>编辑 <code>src/Core/parser/scriptParser/contentParser.ts</code> ，将你的脚本所需要获取的资源类型与资源所在的目录对应起来。</p> <p>WebGAL 有几种内置的文件类型：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">enum</span> fileType <span class="token punctuation">{</span>
    background<span class="token punctuation">,</span>
    bgm<span class="token punctuation">,</span>
    figure<span class="token punctuation">,</span>
    scene<span class="token punctuation">,</span>
    tex<span class="token punctuation">,</span>
    vocal<span class="token punctuation">,</span>
    video
<span class="token punctuation">}</span>
</code></pre></div><p>它们分别对应着 背景图像、背景音乐、人物立绘、场景文件、纹理文件、语音文件、视频文件。</p> <p>如果你的自定义脚本所需要获取的资源在以上文件目录中，那么你可以直接调用 <code>assetSetter</code> 函数来将文件名转为实际的资源路径。</p> <p>一个例子： <code>assetSetter(contentRaw, fileType.background);</code></p> <p>其中，<code>contentRaw</code> 是你的脚本的语句内容。WebGAL 会自动将参数和命令切割走，以保证在进行资源获取时不会出现干扰资源获取的字符。</p> <p>如果你的资源类型不属于以上任意一种类型，你需要在 <code>src/Core/util/assetSetter.ts</code> 中将资源类型与资源所在的目录对应起来。</p> <h4 id="预加载语句的资源"><a href="#预加载语句的资源" class="header-anchor">#</a> 预加载语句的资源</h4> <p>如果你的语句包含资源，你肯定希望这个资源可以在引擎运行时预加载，以获得更流畅的游戏体验。</p> <p>编辑 <code>src/Core/parser/scriptParser/assetsScanner.ts</code> ，然后将你所需要的资源用一个对象表示出来：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token punctuation">{</span>
    name<span class="token operator">:</span> content<span class="token punctuation">,</span> <span class="token comment">//资源名称</span>
    url<span class="token operator">:</span> content<span class="token punctuation">,</span> <span class="token comment">//资源所在路径，一般来说，在解析到这一步的时候， content 已经被转化为路径。</span>
    lineNumber<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//资源所在的行号（目前预留，还没有实际作用）</span>
    type<span class="token operator">:</span> fileType<span class="token punctuation">.</span>video<span class="token punctuation">,</span> <span class="token comment">//资源的类型</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="第三步、让演出调用器调用你的演出"><a href="#第三步、让演出调用器调用你的演出" class="header-anchor">#</a> 第三步、让演出调用器调用你的演出</h3> <p>接下来，你需要编写一个函数，实际地执行你希望执行的演出效果，并生成一个对象，用于让演出管理器可以管理这个演出。</p> <p>在 <code>src/Core/controller/gamePlay/scripts</code> 中找到 <code>template.ts</code> 将其复制一份，并重命名。</p> <p>这个函数接受一个类型为 ISentence 的参数，这个参数表示着你的自定义演出语句的全部信息。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * 单条语句接口
 * @interface ISentence
 */</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ISentence</span> <span class="token punctuation">{</span>
    command<span class="token operator">:</span> commandType <span class="token comment">// 语句类型</span>
    commandRaw<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// 命令的原始内容，方便调试</span>
    content<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// 语句内容</span>
    args<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>arg<span class="token operator">&gt;</span> <span class="token comment">// 参数列表</span>
    sentenceAssets<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>IAsset<span class="token operator">&gt;</span> <span class="token comment">// 语句携带的资源列表，预加载用</span>
    subScene<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token comment">// 语句包含子场景列表，预加载用</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * 语句执行的模板代码
 * @param sentence
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> template <span class="token operator">=</span> <span class="token punctuation">(</span>sentence<span class="token operator">:</span> ISentence<span class="token punctuation">)</span><span class="token operator">:</span> IPerform <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 在这里编写你的自定义演出执行的逻辑。
     */</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        performName<span class="token operator">:</span> <span class="token string">'演出名称'</span><span class="token punctuation">,</span> <span class="token comment">//在这里填写你的演出的名称，none代表这个语句只改变状态，不发生任何演出。</span>
        duration<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//在这里填写你的演出完成所需要的时间，单位为ms</span>
        isOver<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//演出是否结束，如果这个值为false，那么演出将不会阻塞用户点击和自动播放</span>
        isHoldOn<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//演出是否会在语句结束后保持。所有非保持类型的演出会在当前的对话结束后被自动清除</span>
        <span class="token function-variable function">stopFunction</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">//卸载或停止演出的函数。演出结束后会被自动调用，请在这里编写演出结束时卸载演出的逻辑。</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> 
        <span class="token function-variable function">blockingNext</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//是否要阻塞用户点击，是一个函数，返回布尔值，代表要不要阻塞</span>
        <span class="token function-variable function">blockingAuto</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否要阻塞自动播放，是一个函数，返回布尔值，代表要不要阻塞</span>
        stopTimeout<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token comment">// 一般来说，这个计时器会被自动设置</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="最后一步、将你的演出函数与命令类型对应起来。"><a href="#最后一步、将你的演出函数与命令类型对应起来。" class="header-anchor">#</a> 最后一步、将你的演出函数与命令类型对应起来。</h3> <p>编辑 <code>src/Core/config.ts</code> ，将你的演出函数与语句类型对应起来（这个表描述了语句字符串，语句类型和函数的对应关系）</p> <p><strong>你的自定义演出现在可以被 WebGAL 调用了。</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6c7d6307.js" defer></script><script src="/assets/js/2.62216773.js" defer></script><script src="/assets/js/8.c5dff380.js" defer></script>
  </body>
</html>
