<!DOCTYPE html>
<html lang="ja-JP">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>WebGAL 技術紹介 | WebGAL</title>
    <meta name="generator" content="VuePress 1.9.9">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-6XPF6Q2WY0"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-6XPF6Q2WY0');
    </script>
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-NP6X74J');
    </script>
    <meta name="description" content="未だかつてない Web ベースビジュアルノベルエンジン">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.7d897f46.js" as="script"><link rel="preload" href="/assets/js/2.9b17f659.js" as="script"><link rel="preload" href="/assets/js/35.9c3aff6d.js" as="script"><link rel="prefetch" href="/assets/js/10.477a4134.js"><link rel="prefetch" href="/assets/js/11.6a902742.js"><link rel="prefetch" href="/assets/js/12.a26ae2ad.js"><link rel="prefetch" href="/assets/js/13.9c2f9e32.js"><link rel="prefetch" href="/assets/js/14.0837e557.js"><link rel="prefetch" href="/assets/js/15.1d6e925f.js"><link rel="prefetch" href="/assets/js/16.df979929.js"><link rel="prefetch" href="/assets/js/17.c8096c43.js"><link rel="prefetch" href="/assets/js/18.bf0da721.js"><link rel="prefetch" href="/assets/js/19.6616507e.js"><link rel="prefetch" href="/assets/js/20.a0a2bfcd.js"><link rel="prefetch" href="/assets/js/21.29bec3e5.js"><link rel="prefetch" href="/assets/js/22.ac686142.js"><link rel="prefetch" href="/assets/js/23.7780da9f.js"><link rel="prefetch" href="/assets/js/24.4ff46385.js"><link rel="prefetch" href="/assets/js/25.7c1a8b86.js"><link rel="prefetch" href="/assets/js/26.19ffe10c.js"><link rel="prefetch" href="/assets/js/27.4a8e2c2f.js"><link rel="prefetch" href="/assets/js/28.84a475c2.js"><link rel="prefetch" href="/assets/js/29.a584f8e8.js"><link rel="prefetch" href="/assets/js/3.bbb7071e.js"><link rel="prefetch" href="/assets/js/30.4f9747e2.js"><link rel="prefetch" href="/assets/js/31.3701aba9.js"><link rel="prefetch" href="/assets/js/32.4e97672e.js"><link rel="prefetch" href="/assets/js/33.be1c15a0.js"><link rel="prefetch" href="/assets/js/34.c814e764.js"><link rel="prefetch" href="/assets/js/36.917c8c1c.js"><link rel="prefetch" href="/assets/js/4.ff57f142.js"><link rel="prefetch" href="/assets/js/5.082bf8bb.js"><link rel="prefetch" href="/assets/js/6.769f637b.js"><link rel="prefetch" href="/assets/js/7.2918fe28.js"><link rel="prefetch" href="/assets/js/8.cfd08ba7.js"><link rel="prefetch" href="/assets/js/9.8106ef0a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ja/" class="home-link router-link-active"><!----> <span class="site-name">WebGAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ja/index.html" class="nav-link">
  トップページ
</a></div><div class="nav-item"><a href="/ja/guide/" class="nav-link">
  ゲーム開発ガイド
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="その他" class="dropdown-title"><span class="title">その他</span> <span class="arrow down"></span></button> <button type="button" aria-label="その他" class="mobile-dropdown-title"><span class="title">その他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          WebGAL 情報
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ja/info/" class="nav-link">
  最新情報
</a></li></ul></li><li class="dropdown-item"><h4>
          コントリビューション
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ja/developers/" class="nav-link">
  開発者向けガイド
</a></li><li class="dropdown-subitem"><a href="/ja/tech/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  WebGAL 技術紹介
</a></li></ul></li><li class="dropdown-item"><h4>
          コンミュニティ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://jq.qq.com/?_wv=1027&amp;k=gYVremLy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ グループ: 709293432
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://discord.gg/kPrQkJttJy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          開発者
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://space.bilibili.com/7321105" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bilibili
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/MakinoharaShoko" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          スポンサー
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ja/sponsor/" class="nav-link">
  スポンサーとなる
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/MakinoharaShoko/WebGAL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="言語" class="dropdown-title"><span class="title">言語</span> <span class="arrow down"></span></button> <button type="button" aria-label="言語" class="mobile-dropdown-title"><span class="title">言語</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/tech/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/tech/" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/ja/tech/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  日本語
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ja/index.html" class="nav-link">
  トップページ
</a></div><div class="nav-item"><a href="/ja/guide/" class="nav-link">
  ゲーム開発ガイド
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="その他" class="dropdown-title"><span class="title">その他</span> <span class="arrow down"></span></button> <button type="button" aria-label="その他" class="mobile-dropdown-title"><span class="title">その他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          WebGAL 情報
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ja/info/" class="nav-link">
  最新情報
</a></li></ul></li><li class="dropdown-item"><h4>
          コントリビューション
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ja/developers/" class="nav-link">
  開発者向けガイド
</a></li><li class="dropdown-subitem"><a href="/ja/tech/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  WebGAL 技術紹介
</a></li></ul></li><li class="dropdown-item"><h4>
          コンミュニティ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://jq.qq.com/?_wv=1027&amp;k=gYVremLy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ グループ: 709293432
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://discord.gg/kPrQkJttJy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          開発者
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://space.bilibili.com/7321105" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bilibili
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/MakinoharaShoko" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          スポンサー
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ja/sponsor/" class="nav-link">
  スポンサーとなる
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/MakinoharaShoko/WebGAL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="言語" class="dropdown-title"><span class="title">言語</span> <span class="arrow down"></span></button> <button type="button" aria-label="言語" class="mobile-dropdown-title"><span class="title">言語</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/tech/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/tech/" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/ja/tech/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  日本語
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>WebGAL 技術紹介</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ja/tech/#シーンシステム-プリロード" class="sidebar-link">シーンシステム &amp; プリロード</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ja/tech/#シーンの取得" class="sidebar-link">シーンの取得</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#シーンの事前読み込み" class="sidebar-link">シーンの事前読み込み</a></li></ul></li><li><a href="/ja/tech/#webgal-パーサー" class="sidebar-link">WebGAL パーサー</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ja/tech/#スクリプト解析-i-シーンの分割" class="sidebar-link">スクリプト解析 Ⅰ - シーンの分割</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#スクリプト解析-ii-ステートメントタイプの解析" class="sidebar-link">スクリプト解析 Ⅱ - ステートメントタイプの解析</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#スクリプト解析-iii-会話の特殊処理" class="sidebar-link">スクリプト解析 Ⅲ - 会話の特殊処理</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#スクリプト解析-iv-パラメータ解析" class="sidebar-link">スクリプト解析 Ⅳ - パラメータ解析</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#スクリプト解析-v-リソースの処理とプリロード" class="sidebar-link">スクリプト解析 Ⅴ - リソースの処理とプリロード</a></li></ul></li><li><a href="/ja/tech/#実行制御システム" class="sidebar-link">実行制御システム</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ja/tech/#スタンバイフェイズ-開始準備" class="sidebar-link">スタンバイフェイズ: 開始準備</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#メインフェイズ-i-コマンドの読み取り、条件判断の実行" class="sidebar-link">メインフェイズ I: コマンドの読み取り、条件判断の実行</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#メインフェイズ-ii-コマンド制御モジュールからコマンドコントローラーの呼び出し、取得" class="sidebar-link">メインフェイズ II: コマンド制御モジュールからコマンドコントローラーの呼び出し、取得</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#エンドフェイズ-連続コマンドの処理、バックログの更新" class="sidebar-link">エンドフェイズ: 連続コマンドの処理、バックログの更新</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#オートモード-スキップモード" class="sidebar-link">オートモード &amp; スキップモード</a></li></ul></li><li><a href="/ja/tech/#コマンド制御" class="sidebar-link">コマンド制御</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ja/tech/#webgal-コマンドタイプ" class="sidebar-link">WebGAL コマンドタイプ</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#コマンドの自動破棄、終了判定、ブロックロジック" class="sidebar-link">コマンドの自動破棄、終了判定、ブロックロジック</a></li></ul></li><li><a href="/ja/tech/#シーン制御-アニメーション制御" class="sidebar-link">シーン制御 &amp; アニメーション制御</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ja/tech/#データ駆動型-pixi-シーンコントローラー" class="sidebar-link">データ駆動型 Pixi シーンコントローラー</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#アニメーション-トランスフォム制御" class="sidebar-link">アニメーション &amp; トランスフォム制御</a></li></ul></li><li><a href="/ja/tech/#セーブ、ロード、ロールバックとユーザーデータ" class="sidebar-link">セーブ、ロード、ロールバックとユーザーデータ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ja/tech/#webgal-ステートテーブルの紹介" class="sidebar-link">WebGAL ステートテーブルの紹介</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#実行状態の保存-復元" class="sidebar-link">実行状態の保存 &amp; 復元</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#セーブデータ-その他のユーザーデータの保存" class="sidebar-link">セーブデータ &amp; その他のユーザーデータの保存</a></li></ul></li><li><a href="/ja/tech/#鑑賞モジュール-細かい機能" class="sidebar-link">鑑賞モジュール &amp; 細かい機能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ja/tech/#鑑賞モジュール" class="sidebar-link">鑑賞モジュール</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#ブラウザを離れた際の状態保持-「続きから」" class="sidebar-link">ブラウザを離れた際の状態保持 &amp; 「続きから」</a></li><li class="sidebar-sub-header"><a href="/ja/tech/#ショートカットキー-マウス操作" class="sidebar-link">ショートカットキー &amp; マウス操作</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webgal-技術紹介"><a href="#webgal-技術紹介" class="header-anchor">#</a> WebGAL 技術紹介</h1> <h2 id="シーンシステム-プリロード"><a href="#シーンシステム-プリロード" class="header-anchor">#</a> シーンシステム &amp; プリロード</h2> <h3 id="シーンの取得"><a href="#シーンの取得" class="header-anchor">#</a> シーンの取得</h3> <p>WebGAL のシーンは、ファイル単位で管理されます。一般的に、WebGAL スクリプトファイルの拡張子は <code>.txt</code> です。多くのプログラミング言語が <code>main</code> 関数をエントリーポイントとして持つように、WebGAL のエントリーシーンは <code>start.txt</code> です。WebGAL は最初に <code>start.txt</code> を取得し、それを WebGAL パーサーによってシーンオブジェクトに解析します。任意のシーンでは、<code>choose</code>、<code>changeScene</code>、<code>callScene</code> といった方法を使用してシーンの切り替えや呼び出しが行えます。シーンの切り替えは現在のシーンを直接置き換えますが、シーンの呼び出しは新しいシーンをスタックにプッシュして実行し、実行後に呼び出し元の親シーンに戻ります。</p> <h3 id="シーンの事前読み込み"><a href="#シーンの事前読み込み" class="header-anchor">#</a> シーンの事前読み込み</h3> <p>WebGAL は、シーンの解析と同時に、シーンに含まれるリソースも解析します。各シーンファイルには、画像、音声、およびビデオファイルなどのリソースが含まれています。これらのファイルは、シーンの解析が完了した後にプリロードが開始され、ユーザーがゲームプレイ中にリソースの読み込みを待つ可能性を最小限に抑えます。また、シーンの切り替え時にゲームのスムーズな動作を実現するために、WebGAL は現在のシーンファイルから参照されているシーンファイルのリソースも読み込みます。ただし、リソースの無駄を防ぐため、WebGAL はシーンの一層のみをプリロードします。</p> <h2 id="webgal-パーサー"><a href="#webgal-パーサー" class="header-anchor">#</a> WebGAL パーサー</h2> <h3 id="スクリプト解析-i-シーンの分割"><a href="#スクリプト解析-i-シーンの分割" class="header-anchor">#</a> スクリプト解析 Ⅰ - シーンの分割</h3> <p>WebGAL のシーンファイルは主に改行でステートメントを区切ります。解析の最初に、WebGAL パーサーは改行コードに基づいてステートメントを分割します。セミコロンがある場合は、セミコロンの前の文字列を取得します。つまり、WebGAL スクリプトのコメント方法は、セミコロンの後に記述することです。</p> <h3 id="スクリプト解析-ii-ステートメントタイプの解析"><a href="#スクリプト解析-ii-ステートメントタイプの解析" class="header-anchor">#</a> スクリプト解析 Ⅱ - ステートメントタイプの解析</h3> <p>WebGAL のステートメントは一般的に次のような形式です。</p> <div class="language- extra-class"><pre class="language-text"><code>command:content -arg1 -arg2 ......;コメント
</code></pre></div><p>ここで、command はステートメントのコマンドを表し、<code>bgm</code>、<code>changeFigure</code>、<code>choose</code> などのコマンドがあります。これはステートメントに対する制御アクションを示します。<code>content</code> はステートメントの主要な内容を表します。例えば、<code>bgm:Teabreak.mp3</code> は、BGM として音声ファイルを再生することを表します。</p> <h3 id="スクリプト解析-iii-会話の特殊処理"><a href="#スクリプト解析-iii-会話の特殊処理" class="header-anchor">#</a> スクリプト解析 Ⅲ - 会話の特殊処理</h3> <p>WebGAL のスクリプトファイルでは、通常以下の形式で会話が書かれます。</p> <div class="language- extra-class"><pre class="language-text"><code>森川由綺: 胸につかえていることを、时は解决してくれない。忘却のラベルを贴るだけで -voice_1.ogg;
</code></pre></div><p>ビジュアルノベルでは、会話がスクリプトの主要な構成要素であるため、WebGAL ではシンタックスシュガーが設計されています。もしスクリプトの command 部分がどのコマンドとも解析できない場合、WebGAL はそれを会話として扱います。また、音声の指定もシンプルにされており、ファイル名のみを指定すれば十分です。上記の会話は実際に say コマンドとして解析されます。</p> <p>したがって、この会話の正しい表現は次のようになります。</p> <div class="language- extra-class"><pre class="language-text"><code>say:胸につかえていることを、时は解决してくれない。忘却のラベルを贴るだけで -speaker=森川由綺 -vocal=voice_1.ogg;
</code></pre></div><p>また、もし対話が一人のキャラクターによって行われる場合、話者が変わる前にキャラクター名を省略することができます。</p> <div class="language- extra-class"><pre class="language-text"><code>森川由綺: 胸につかえていることを;
时は解决してくれない; 
忘却のラベルを贴るだけで;
</code></pre></div><p>会話の特殊な処理により、スクリプトの作成効率が大幅に向上します。</p> <h3 id="スクリプト解析-iv-パラメータ解析"><a href="#スクリプト解析-iv-パラメータ解析" class="header-anchor">#</a> スクリプト解析 Ⅳ - パラメータ解析</h3> <p>content の後に <code>-</code> で区切られたものは追加パラメータです。特に注意が必要なのは、追加パラメータの <code>-</code> の前にはスペースが必要であることです。そうでない場合、WebGAL はそれを追加パラメータではなく普通の <code>-</code> とみなします。</p> <p>WebGAL のパラメータは <code>-key=value</code> の形式で表されます。ここで、<code>key</code> の型は <code>string</code> であり、<code>value</code> の型は動的に決定され、次の3つの可能な型のいずれかで存在することができます: <code>string</code>、<code>number</code>、<code>boolean</code>。</p> <p>例えば、<code>-key=s</code> の <code>value</code> は <code>string</code> です。<code>-key=1</code> の <code>value</code> は <code>number</code> です。<code>-key=true</code> または <code>-key=false</code> の <code>value</code> は <code>boolean</code> です。</p> <p>また、<code>value</code> を省略して <code>key</code> のみを記述するパラメータは <code>-key=true</code> と解釈され、これは省略された形式のシンタックスシュガーです。このシンタックスシュガーは非常に重要であり、WebGAL には <code>-next</code> という重要なパラメータがあります。これは、現在のステートメントの実行後に直ちに次のステートメントを実行することを示すために使用されます。このシンタックスシュガーがなっかた場合、常に <code>-next=true</code> と書く必要があります。</p> <h3 id="スクリプト解析-v-リソースの処理とプリロード"><a href="#スクリプト解析-v-リソースの処理とプリロード" class="header-anchor">#</a> スクリプト解析 Ⅴ - リソースの処理とプリロード</h3> <p>スクリプトの解析中に、スクリプトが必要とするリソースを取得することができます。例えば、<code>bgm</code> ステートメントでは通常音声リソースが必要であり、<code>playVideo</code> ステートメントでは通常ビデオリソースが必要です。また、<code>changeBg</code> ステートメントでは通常画像リソースが必要です。WebGAL のシーンパーサーは、すべてのシーンのステートメントが必要とするリソースをまとめて、プリローダーに渡してリソースをプリロードします。また、<code>changeScene</code>、<code>choose</code>、<code>callScene</code> など、サブシーンを呼び出す必要がある場合には、サブシーンもスキャンされ、解析され、その中のリソースがプリロードされます。</p> <h2 id="実行制御システム"><a href="#実行制御システム" class="header-anchor">#</a> 実行制御システム</h2> <h3 id="スタンバイフェイズ-開始準備"><a href="#スタンバイフェイズ-開始準備" class="header-anchor">#</a> スタンバイフェイズ: 開始準備</h3> <h3 id="メインフェイズ-i-コマンドの読み取り、条件判断の実行"><a href="#メインフェイズ-i-コマンドの読み取り、条件判断の実行" class="header-anchor">#</a> メインフェイズ I: コマンドの読み取り、条件判断の実行</h3> <h3 id="メインフェイズ-ii-コマンド制御モジュールからコマンドコントローラーの呼び出し、取得"><a href="#メインフェイズ-ii-コマンド制御モジュールからコマンドコントローラーの呼び出し、取得" class="header-anchor">#</a> メインフェイズ II: コマンド制御モジュールからコマンドコントローラーの呼び出し、取得</h3> <h3 id="エンドフェイズ-連続コマンドの処理、バックログの更新"><a href="#エンドフェイズ-連続コマンドの処理、バックログの更新" class="header-anchor">#</a> エンドフェイズ: 連続コマンドの処理、バックログの更新</h3> <h3 id="オートモード-スキップモード"><a href="#オートモード-スキップモード" class="header-anchor">#</a> オートモード &amp; スキップモード</h3> <h2 id="コマンド制御"><a href="#コマンド制御" class="header-anchor">#</a> コマンド制御</h2> <h3 id="webgal-コマンドタイプ"><a href="#webgal-コマンドタイプ" class="header-anchor">#</a> WebGAL コマンドタイプ</h3> <h3 id="コマンドの自動破棄、終了判定、ブロックロジック"><a href="#コマンドの自動破棄、終了判定、ブロックロジック" class="header-anchor">#</a> コマンドの自動破棄、終了判定、ブロックロジック</h3> <h2 id="シーン制御-アニメーション制御"><a href="#シーン制御-アニメーション制御" class="header-anchor">#</a> シーン制御 &amp; アニメーション制御</h2> <h3 id="データ駆動型-pixi-シーンコントローラー"><a href="#データ駆動型-pixi-シーンコントローラー" class="header-anchor">#</a> データ駆動型 Pixi シーンコントローラー</h3> <h3 id="アニメーション-トランスフォム制御"><a href="#アニメーション-トランスフォム制御" class="header-anchor">#</a> アニメーション &amp; トランスフォム制御</h3> <h2 id="セーブ、ロード、ロールバックとユーザーデータ"><a href="#セーブ、ロード、ロールバックとユーザーデータ" class="header-anchor">#</a> セーブ、ロード、ロールバックとユーザーデータ</h2> <h3 id="webgal-ステートテーブルの紹介"><a href="#webgal-ステートテーブルの紹介" class="header-anchor">#</a> WebGAL ステートテーブルの紹介</h3> <h3 id="実行状態の保存-復元"><a href="#実行状態の保存-復元" class="header-anchor">#</a> 実行状態の保存 &amp; 復元</h3> <h3 id="セーブデータ-その他のユーザーデータの保存"><a href="#セーブデータ-その他のユーザーデータの保存" class="header-anchor">#</a> セーブデータ &amp; その他のユーザーデータの保存</h3> <h2 id="鑑賞モジュール-細かい機能"><a href="#鑑賞モジュール-細かい機能" class="header-anchor">#</a> 鑑賞モジュール &amp; 細かい機能</h2> <h3 id="鑑賞モジュール"><a href="#鑑賞モジュール" class="header-anchor">#</a> 鑑賞モジュール</h3> <h3 id="ブラウザを離れた際の状態保持-「続きから」"><a href="#ブラウザを離れた際の状態保持-「続きから」" class="header-anchor">#</a> ブラウザを離れた際の状態保持 &amp; 「続きから」</h3> <h3 id="ショートカットキー-マウス操作"><a href="#ショートカットキー-マウス操作" class="header-anchor">#</a> ショートカットキー &amp; マウス操作</h3></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7d897f46.js" defer></script><script src="/assets/js/2.9b17f659.js" defer></script><script src="/assets/js/35.9c3aff6d.js" defer></script>
  </body>
</html>
