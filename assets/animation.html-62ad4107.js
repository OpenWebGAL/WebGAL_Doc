import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as l,c as p,a as t,d as n,b as i,e as s}from"./app-27da80c0.js";const r={},c=s(`<h1 id="动画效果" tabindex="-1"><a class="header-anchor" href="#动画效果" aria-hidden="true">#</a> 动画效果</h1><h2 id="为背景或立绘设置动画" tabindex="-1"><a class="header-anchor" href="#为背景或立绘设置动画" aria-hidden="true">#</a> 为背景或立绘设置动画</h2><p>使用语句 <code>setAnimation:动画名 -target=作用目标;</code></p><p><strong>示例：</strong></p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>; // 为中间立绘设置一个从下方进入的动画，并转到下一句
setAnimation:enter-from-bottom -target=fig-center -next;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>目前，预制的动画有：</p><table><thead><tr><th style="text-align:left;">动画效果</th><th style="text-align:left;">动画名</th><th style="text-align:left;">持续时间（毫秒）</th></tr></thead><tbody><tr><td style="text-align:left;">渐入</td><td style="text-align:left;">enter</td><td style="text-align:left;">300</td></tr><tr><td style="text-align:left;">渐出</td><td style="text-align:left;">exit</td><td style="text-align:left;">300</td></tr><tr><td style="text-align:left;">左右摇晃一次</td><td style="text-align:left;">shake</td><td style="text-align:left;">1000</td></tr><tr><td style="text-align:left;">从下侧进入</td><td style="text-align:left;">enter-from-bottom</td><td style="text-align:left;">500</td></tr><tr><td style="text-align:left;">从左侧进入</td><td style="text-align:left;">enter-from-right</td><td style="text-align:left;">500</td></tr><tr><td style="text-align:left;">从右侧进入</td><td style="text-align:left;">enter-from-right</td><td style="text-align:left;">500</td></tr><tr><td style="text-align:left;">前后移动一次</td><td style="text-align:left;">move-front-and-back</td><td style="text-align:left;">1000</td></tr></tbody></table><p>目前，动画的作用目标有：</p><table><thead><tr><th style="text-align:left;">target</th><th style="text-align:left;">实际目标</th></tr></thead><tbody><tr><td style="text-align:left;">fig-left</td><td style="text-align:left;">左立绘</td></tr><tr><td style="text-align:left;">fig-center</td><td style="text-align:left;">中间立绘</td></tr><tr><td style="text-align:left;">fig-right</td><td style="text-align:left;">右侧立绘</td></tr><tr><td style="text-align:left;">bg-main</td><td style="text-align:left;">背景</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">某个有id的立绘</td></tr></tbody></table><h2 id="自定义动画" tabindex="-1"><a class="header-anchor" href="#自定义动画" aria-hidden="true">#</a> 自定义动画</h2><h3 id="创建动画" tabindex="-1"><a class="header-anchor" href="#创建动画" aria-hidden="true">#</a> 创建动画</h3><p>动画文件在 <code>game/animation</code>，你可以创建自己的自定义动画。</p>`,12),d={href:"https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/JSON",target:"_blank",rel:"noopener noreferrer"},u=s(`<p>每一个动画文件都代表一个<strong>动画序列</strong>，使用一个 JSON 数组来描述。下面是一个示例，描述了一个从左侧进入的动画：</p><p><strong>示例: <code>enter-from-left.json</code></strong></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scale&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pivot&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">-50</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rotation&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;blur&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scale&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pivot&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rotation&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;blur&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">500</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中各个属性代表的释义为：</p><table><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:left;">释义</th></tr></thead><tbody><tr><td style="text-align:left;">alpha</td><td style="text-align:left;">透明度，范围0-1</td></tr><tr><td style="text-align:left;">scale</td><td style="text-align:left;">缩放</td></tr><tr><td style="text-align:left;">pivot</td><td style="text-align:left;">锚点</td></tr><tr><td style="text-align:left;">position</td><td style="text-align:left;">位置偏移</td></tr><tr><td style="text-align:left;">rotation</td><td style="text-align:left;">旋转角度，单位为弧度</td></tr><tr><td style="text-align:left;">blur</td><td style="text-align:left;">高斯模糊半径</td></tr><tr><td style="text-align:left;">duration</td><td style="text-align:left;">这个时间片的持续时间，单位为毫秒(ms)</td></tr></tbody></table><p>然后，你需要在 <code>animationTable</code>中加上你的自定义动画的文件名（不需要后缀名）</p><p>在文件 <code>animationTable.json</code>：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token string">&quot;enter-from-left&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;enter-from-bottom&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;enter-from-right&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后，你就可以在脚本中调用：</p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>setAnimation:enter-from-left -target=fig-left -next;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="省略部分属性" tabindex="-1"><a class="header-anchor" href="#省略部分属性" aria-hidden="true">#</a> 省略部分属性</h3><p>如果你的动画只需要操作部分属性，你可以将其他不参与动画的属性留空，使它们保持默认。</p><p><strong>示例：<code>enter.json</code></strong></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">300</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用变换" tabindex="-1"><a class="header-anchor" href="#使用变换" aria-hidden="true">#</a> 使用变换</h3><p>一个持续时间为0毫秒，且只有一个时间片的动画就是变换。</p><p><strong>示例：</strong></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18);function k(v,m){const a=o("ExternalLinkIcon");return l(),p("div",null,[c,t("p",null,[n("动画文件使用 JSON 描述，你可以在 "),t("a",d,[n("参考文档"),i(a)]),n(" 参考JSON语法。")]),u])}const y=e(r,[["render",k],["__file","animation.html.vue"]]);export{y as default};
