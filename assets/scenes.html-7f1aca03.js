import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as n,c as a,e as i}from"./app-97d850a3.js";const s={},t=i(`<h1 id="scenes-and-branch" tabindex="-1"><a class="header-anchor" href="#scenes-and-branch" aria-hidden="true">#</a> Scenes and Branch</h1><p>In visual novels, jumping chapters and scenes and branch choices are indispensable. Therefore, WebGAL also supports scene jumps and branch choices.</p><p>You can split your scripts into multiple txt documents, and use a simple statement to switch the currently running script.</p><div class="hint-container warning"><p class="hint-container-title">Note</p><p>When jumping scenes, branch choices, or calling scenes, the stage will not be cleared. This also means that effects such as background music, sprites, and background images applied in the previous scene will be inherited to the next scene.</p><p>If you use the WebGAL Terre visual editor, you should pay extra attention, because the editor does not care about the effects the previous scene will bring when previewing a single scene alone. Therefore, the preview effect and the actual game running effect may differ. You should consider properly handling the stage cleanup before the scene jump.</p></div><h2 id="jump-scenes" tabindex="-1"><a class="header-anchor" href="#jump-scenes" aria-hidden="true">#</a> Jump scenes</h2><p>For example, if you have now written the scripts for two chapters, <code>Chapter-1.txt</code> and <code>Chapter-2.txt</code> respectively, after <code>Chapter-1.txt</code> finishes running, you want to jump to the scene corresponding to <code>Chapter-2.txt</code>, please use the following statement:</p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>changeScene:Chapter-2.txt; 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Example:</p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>(Chapter-1.txt) 
......
......
; // The content of Chapter-2.txt will be executed next
changeScene:Chapter-2.txt;
...... 
......
(Chapter-2.txt)
......
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>By executing this command, you will switch the game scene and the subsequent plot will run according to the new scene script. The new script will run after the next mouse click.</p><h2 id="call-scenes" tabindex="-1"><a class="header-anchor" href="#call-scenes" aria-hidden="true">#</a> Call scenes</h2><p>If you need to call another scene within a scene, you can use <code>callScene</code>, which will return to the original scene after the called scene finishes running.</p><p>Statement:</p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>callScene:Chapter-2.txt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Example:</p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>(Chapter-1.txt)
...... 
......
callScene:Chapter-2.txt;
; // The content of Chapter-2.txt will be executed next
......
......
(Chapter-2.txt)
......
......
(After Chapter-2.txt execution is complete)
; // Return to parent scene and continue executing parent scene statements
......
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="branch-choose" tabindex="-1"><a class="header-anchor" href="#branch-choose" aria-hidden="true">#</a> Branch choose</h2><p>If branching options exist in your script and you want to go to a different chapter by selecting a different option, use <code>choose</code>.</p><p>Use <code>choose text:chapter filename</code> to define a choice. Use <code>|</code> to separate selections.</p><p>An example is shown below:</p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>choose:Call out to her:Chapter-2.txt|Go home:Chapter-3.txt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You just need to correspond the text of the options one-to-one with the script name to enter after selecting the option to achieve the function of branch choices.</p><h2 id="jumps-label" tabindex="-1"><a class="header-anchor" href="#jumps-label" aria-hidden="true">#</a> Jumps label</h2><p>If you want to create a branch but feel it is too troublesome to create a new TXT file, you can try the following to implement creating branches and jumping statements within the same file.</p><div class="hint-container warning"><p class="hint-container-title">Note</p><p>If your branch is very long, I do not recommend using this method, because the number of lines in a single TXT is not suitable for being too long, otherwise it may cause performance problems such as slow loading and sluggish response.</p></div><h3 id="create-label" tabindex="-1"><a class="header-anchor" href="#create-label" aria-hidden="true">#</a> Create label</h3><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>......
jumpLabel:label_1; // Jump to label_1
...... 
......
label:label_1; // Create a label named label_1
......
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In short, <code>jumpLabel</code> is similar to a <code>goto</code> statement, which can immediately make your script jump to any position in the scene (TXT file), and this position needs you to create it with <code>label</code>.</p><p>If <code>jumpLabel</code> is compared to a portal, then the destination of this portal is the position where the <code>label</code> is located.</p><h3 id="create-choose" tabindex="-1"><a class="header-anchor" href="#create-choose" aria-hidden="true">#</a> Create choose</h3><p>With the above basis, you can use <code>choose</code> to jump to the position where <code>label</code> is located through branches.</p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>......
choose:Test 1:label_1|Test 2:label_2;
label:label_1; // Create a label named label_1
......
......
jumpLabel:end; // Jump to end
label:label_2; // Create a label named label_2
......
......
jumpLabel:end; // Jump to end
label:end; // Create a label named end
......
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that at the end of each branch, you should use <code>jumpLabel</code> to jump to the position you want. Since the program executes linearly, if you don&#39;t jump at the end of a branch, then the program will continue down the line, for example:</p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>......
choose:branch 1:label_1|branch 2:label_2; label:label_1;
label:label_1; // Create a label named label_1
......
......
label:label_2; // create a label named label_2
......
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this scenes, if you select <code>Branch 2</code>, everything seems to be fine. But if you choose <code>Branch 1</code>, you&#39;ll be surprised to find that after <code>Branch 1</code> finishes executing, <code>Branch 2</code> continues. That&#39;s because the program went on to the next line in order, and you didn&#39;t specify where to jump to at the end of the branch.</p>`,35),l=[t];function c(d,r){return n(),a("div",null,l)}const u=e(s,[["render",c],["__file","scenes.html.vue"]]);export{u as default};
