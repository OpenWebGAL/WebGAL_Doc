import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r,o as d,c as i,a as e,e as n,b as s,d as o}from"./app-89ba2627.js";const l={},c=o('<h1 id="将游戏打包到-andoird-平台" tabindex="-1"><a class="header-anchor" href="#将游戏打包到-andoird-平台" aria-hidden="true">#</a> 将游戏打包到 Andoird 平台</h1><h2 id="方法一-自动导出项目文件-适用于使用-webgal-terre-可视化编辑器的游戏开发者" tabindex="-1"><a class="header-anchor" href="#方法一-自动导出项目文件-适用于使用-webgal-terre-可视化编辑器的游戏开发者" aria-hidden="true">#</a> 方法一：自动导出项目文件 (适用于使用 WebGAL Terre 可视化编辑器的游戏开发者)</h2><div class="hint-container warning"><p class="hint-container-title">注意</p><p>如果想要使用 android studio 直接从项目导出的文件夹打开，请新建游戏时填入<strong>英文</strong>，如果游戏名已经是中文，请打开 <code>WebGAL_Terre\\public\\games</code> 修改你的游戏名，并保证项目的文件路径中不会出现英文以外的字符，否则会报错。</p></div><h3 id="前期准备" tabindex="-1"><a class="header-anchor" href="#前期准备" aria-hidden="true">#</a> 前期准备</h3>',4),p={href:"https://developer.android.google.cn/studio/",target:"_blank",rel:"noopener noreferrer"},u=o('<h3 id="导出和修改" tabindex="-1"><a class="header-anchor" href="#导出和修改" aria-hidden="true">#</a> 导出和修改</h3><p>在编辑器左边侧边栏修改 <code>游戏标题</code> 和 <code>游戏包名</code>。游戏包名是你的网站域名反写，如果没有域名可以考虑使用开发者加游戏名的组合，比如 <code>webgaldev.mygalgame</code> 这种形式，<strong>必须</strong>使用<strong>英文</strong>。</p><p>在编辑器右上角选择导出为安卓项目文件，然后打开 android studio 选择刚刚导出的 <code>android</code> 目录，等待依赖下载完毕。</p><p>点击菜单栏中的 <code>File -&gt; New -&gt; Image Asset</code> 修改游戏图标，注意图标分为前后两层。</p><h3 id="运行和编译" tabindex="-1"><a class="header-anchor" href="#运行和编译" aria-hidden="true">#</a> 运行和编译</h3><p>打开安卓手机的 USB 调试并连接电脑，点击上方工具栏设备标题旁的运行图标后在手机上运行。</p><p>点击菜单栏中 <code>Build -&gt; Generate Signed Bundle or APK</code>，根据提示创建密钥并编译，等待编译完毕。</p><h2 id="方法二-手动编辑项目文件-适用于在本地通过书写脚本的形式或者通过源码编译开发的游戏开发者" tabindex="-1"><a class="header-anchor" href="#方法二-手动编辑项目文件-适用于在本地通过书写脚本的形式或者通过源码编译开发的游戏开发者" aria-hidden="true">#</a> 方法二：手动编辑项目文件 (适用于在本地通过书写脚本的形式或者通过源码编译开发的游戏开发者)</h2><h3 id="前期准备-1" tabindex="-1"><a class="header-anchor" href="#前期准备-1" aria-hidden="true">#</a> 前期准备</h3>',9),h={href:"https://developer.android.google.cn/studio/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://github.com/MakinoharaShoko/WebGAL",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/nini22P/WebGAL-Android",target:"_blank",rel:"noopener noreferrer"},b=e("h3",{id:"游戏导入",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#游戏导入","aria-hidden":"true"},"#"),n(" 游戏导入")],-1),k={href:"https://github.com/nini22P/WebGAL-Android",target:"_blank",rel:"noopener noreferrer"},v=e("br",null,null,-1),_=e("code",null,"项目文件夹\\app\\src\\main\\assets\\webgal",-1),f=o(`<div class="hint-container tip"><p class="hint-container-title">提示</p><p>游戏默认加载 <code>项目文件夹\\app\\src\\main\\assets\\webgal\\index.html</code>，如果想要自定义加载链接（比如在线链接），请修改 <code>项目文件夹\\app\\src\\main\\res\\values\\values.xml</code> 文件里面的 <code>load_url</code> 字段。</p></div><h3 id="信息修改" tabindex="-1"><a class="header-anchor" href="#信息修改" aria-hidden="true">#</a> 信息修改</h3><p>打开 Android Studio 导入项目。<br> 修改 <code>项目文件夹\\settings.gradle</code> 文件中的 <code>rootProject.name</code> 字段。</p><div class="language-gradle line-numbers-mode" data-ext="gradle"><pre class="language-gradle"><code><span class="token punctuation">...</span>
rootProject<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">&quot;WebGAL&quot;</span></span> <span class="token comment">//修改项目标题</span>
<span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改 <code>项目文件夹\\app\\src\\main\\res\\values\\strings.xml</code> 中的标题信息。</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>WebGAL<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span> //修改游戏标题
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改 <code>项目文件夹\\app\\build.gradle</code> 中的 <code>namespace</code> 和 <code>applicationId</code> 字段，格式为域名反写。</p><div class="language-gradle line-numbers-mode" data-ext="gradle"><pre class="language-gradle"><code><span class="token punctuation">...</span>
android <span class="token punctuation">{</span>
    namespace <span class="token string">&#39;com.openwebgal.demo&#39;</span> <span class="token comment">//修改包名</span>
<span class="token punctuation">...</span>
    defaultConfig <span class="token punctuation">{</span>
        applicationId <span class="token interpolation-string"><span class="token string">&quot;com.openwebgal.demo&quot;</span></span> <span class="token comment">//修改包名</span>
<span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>点击菜单栏中的 <code>File -&gt; Sync Project with Gradle files</code> 等待同步完毕。</p><p>修改 <code>项目文件夹\\app\\src\\main\\java\\com\\openwebgal\\demo\\MainActivity.kt</code> 首行的 <code>package</code> 字段为前面更改的目标包名。</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">package</span> com<span class="token punctuation">.</span>openwebgal<span class="token punctuation">.</span>demo <span class="token comment">//修改包名</span>
<span class="token operator">..</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>上面这个字段修改后会报错，这时候点击刚刚修改的包名，然后点击“黄色灯泡”选择 <code>Move file to &#39;目标包名&#39;</code>，再将原本包名文件夹删掉。</p><p>点击菜单栏中的 <code>File -&gt; New -&gt; Image Asset</code> 修改游戏图标，注意图标分为前后两层。</p><h3 id="运行和编译-1" tabindex="-1"><a class="header-anchor" href="#运行和编译-1" aria-hidden="true">#</a> 运行和编译</h3><p>打开安卓手机的 USB 调试并连接电脑，点击上方工具栏设备标题旁的运行图标后在手机上运行。</p><p>点击菜单栏中 <code>Build -&gt; Generate Signed Bundle or APK</code>，根据提示创建密钥并编译，等待编译完毕。</p><h2 id="视频教程" tabindex="-1"><a class="header-anchor" href="#视频教程" aria-hidden="true">#</a> 视频教程</h2>`,17),w={href:"https://www.bilibili.com/video/BV1m24y1J7ct/",target:"_blank",rel:"noopener noreferrer"},A=e("h2",{id:"兼容性以及解决方案",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#兼容性以及解决方案","aria-hidden":"true"},"#"),n(" 兼容性以及解决方案")],-1),x=e("p",null,"目前支持最低版本是安卓 5.0，并依赖于系统预装的 Android System WebView, 如果您的设备在点击首屏后黑屏，请尝试以下任意一种方案：",-1),y={href:"https://play.google.com/store/apps/details?id=com.google.android.webview",target:"_blank",rel:"noopener noreferrer"},W=e("li",null,"手动下载 Android System WebView 进行更新",-1),S={href:"https://www.apkmirror.com/apk/google-inc/android-system-webview/android-system-webview-95-0-4638-74-release/",target:"_blank",rel:"noopener noreferrer"},G={href:"https://www.apkmirror.com/apk/google-inc/android-system-webview/android-system-webview-106-0-5249-126-release/",target:"_blank",rel:"noopener noreferrer"},L={href:"https://www.apkmirror.com/apk/google-inc/android-system-webview/",target:"_blank",rel:"noopener noreferrer"};function B(V,P){const a=r("ExternalLinkIcon");return d(),i("div",null,[c,e("ul",null,[e("li",null,[n("下载安装 "),e("a",p,[n("Android Studio"),s(a)])])]),u,e("ul",null,[e("li",null,[n("下载安装 "),e("a",h,[n("Android Studio"),s(a)])]),e("li",null,[n("将 "),e("a",g,[n("WebGAL"),s(a)]),n(" 游戏导出 Web 版本")]),e("li",null,[n("下载 "),e("a",m,[n("WebGAL Android 项目模板"),s(a)])])]),b,e("p",null,[n("首先将游戏导出为 Web 网页，解压 "),e("a",k,[n("项目模板"),s(a)]),n("，将文件夹改名（切记必须使用英文）。"),v,n(" 打开 "),_,n(" 文件夹，将你要打包的游戏放到这里。")]),f,e("p",null,[e("a",w,[n("使用 Android Studio 打包 WebGAL 游戏到 Android 平台"),s(a)])]),A,x,e("ol",null,[e("li",null,[n("进入 Play 商店更新 "),e("a",y,[n("Android System WebView"),s(a)])]),W]),e("p",null,[n("Android System WebView 下载链接："),e("a",S,[n("Android 5.0"),s(a)]),n(" | "),e("a",G,[n("Android 6.0"),s(a)]),n(" | "),e("a",L,[n("Android 7.0 +"),s(a)])])])}const N=t(l,[["render",B],["__file","android.html.vue"]]);export{N as default};
