import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o,c as p,a as n,e as t,b as i,d as s}from"./app-49289943.js";const r={},d=s(`<h1 id="アニメーション" tabindex="-1"><a class="header-anchor" href="#アニメーション" aria-hidden="true">#</a> アニメーション</h1><h2 id="背景や立ち絵にアニメーションを設定する" tabindex="-1"><a class="header-anchor" href="#背景や立ち絵にアニメーションを設定する" aria-hidden="true">#</a> 背景や立ち絵にアニメーションを設定する</h2><p><code>setAnimation:アニメーション名 -target=作用対象;</code> のステートメントを使用します。</p><p><strong>例：</strong></p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>; // 中央の立ち絵に下から入ってくるアニメーションを設定し、次の行に移動します
setAnimation:enter-from-bottom -target=fig-center -next;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>現在、プリセットされたアニメーションは以下の通りです。</p><table><thead><tr><th style="text-align:left;">アニメーション効果</th><th style="text-align:left;">アニメーション名</th><th style="text-align:left;">持続時間（ミリ秒）</th></tr></thead><tbody><tr><td style="text-align:left;">フェードイン</td><td style="text-align:left;">enter</td><td style="text-align:left;">300</td></tr><tr><td style="text-align:left;">フェードアウト</td><td style="text-align:left;">exit</td><td style="text-align:left;">300</td></tr><tr><td style="text-align:left;">左右に一度揺れる</td><td style="text-align:left;">shake</td><td style="text-align:left;">1000</td></tr><tr><td style="text-align:left;">下側から入ってくる</td><td style="text-align:left;">enter-from-bottom</td><td style="text-align:left;">500</td></tr><tr><td style="text-align:left;">左側から入ってくる</td><td style="text-align:left;">enter-from-right</td><td style="text-align:left;">500</td></tr><tr><td style="text-align:left;">右側から入ってくる</td><td style="text-align:left;">enter-from-right</td><td style="text-align:left;">500</td></tr><tr><td style="text-align:left;">前後に一度移動する</td><td style="text-align:left;">move-front-and-back</td><td style="text-align:left;">1000</td></tr></tbody></table><p>現在、アニメーションの作用対象は以下の通りです。</p><table><thead><tr><th style="text-align:left;">target</th><th style="text-align:left;">実際の対象</th></tr></thead><tbody><tr><td style="text-align:left;">fig-left</td><td style="text-align:left;">左の立ち絵</td></tr><tr><td style="text-align:left;">fig-center</td><td style="text-align:left;">中央の立ち絵</td></tr><tr><td style="text-align:left;">fig-right</td><td style="text-align:left;">右の立ち絵</td></tr><tr><td style="text-align:left;">bg-main</td><td style="text-align:left;">背景</td></tr><tr><td style="text-align:left;">id</td><td style="text-align:left;">idを持つ特定の立ち絵</td></tr></tbody></table><h2 id="カスタムアニメーション" tabindex="-1"><a class="header-anchor" href="#カスタムアニメーション" aria-hidden="true">#</a> カスタムアニメーション</h2><h3 id="アニメーションを作成する" tabindex="-1"><a class="header-anchor" href="#アニメーションを作成する" aria-hidden="true">#</a> アニメーションを作成する</h3><p>アニメーションファイルは <code>game/animation</code> にあります。独自のカスタムアニメーションを作成することができます。</p>`,12),c={href:"https://developer.mozilla.org/ja/docs/Learn/JavaScript/Objects/JSON",target:"_blank",rel:"noopener noreferrer"},u=s(`<p>各アニメーションファイルは <strong>アニメーションシーケンス</strong> を表し、JSON 配列を使用して記述されます。以下は、左側から入ってくるアニメーションを記述した例です。</p><p><strong>例: <code>enter-from-left.json</code></strong></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scale&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">-50</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rotation&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;blur&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scale&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rotation&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;blur&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">500</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>各プロパティの意味は以下の通りです。</p><table><thead><tr><th style="text-align:left;">プロパティ名</th><th style="text-align:left;">説明</th></tr></thead><tbody><tr><td style="text-align:left;">alpha</td><td style="text-align:left;">透明度、範囲は 0-1</td></tr><tr><td style="text-align:left;">scale</td><td style="text-align:left;">スケール</td></tr><tr><td style="text-align:left;">position</td><td style="text-align:left;">位置オフセット</td></tr><tr><td style="text-align:left;">rotation</td><td style="text-align:left;">回転角度、単位はラジアン</td></tr><tr><td style="text-align:left;">blur</td><td style="text-align:left;">ガウスぼかしの半径</td></tr><tr><td style="text-align:left;">duration</td><td style="text-align:left;">このタイムスライスの持続時間、単位はミリ秒 (ms)</td></tr><tr><td style="text-align:left;">oldFilm</td><td style="text-align:left;">オールドフィルム効果、0 はオフ、1 はオン</td></tr><tr><td style="text-align:left;">dotFilm</td><td style="text-align:left;">ドット状のフィルム効果、0 はオフ、1 はオン</td></tr><tr><td style="text-align:left;">reflectionFilm</td><td style="text-align:left;">反射フィルム効果、0 はオフ、1 はオン</td></tr><tr><td style="text-align:left;">glitchFilm</td><td style="text-align:left;">故障フィルム効果、0 はオフ、1 はオン</td></tr><tr><td style="text-align:left;">rgbFilm</td><td style="text-align:left;">RGB フィルム効果、0 はオフ、1 はオン</td></tr><tr><td style="text-align:left;">godrayFilm</td><td style="text-align:left;">光輝効果、0 はオフ、1 はオン</td></tr></tbody></table><p>次に、<code>animationTable</code> にカスタムアニメーションのファイル名（拡張子は不要）を追加する必要があります。</p><p><code>animationTable.json</code> ファイルで：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token string">&quot;enter-from-left&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;enter-from-bottom&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;enter-from-right&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>その後、スクリプトで呼び出すことができます。</p><div class="language-ws line-numbers-mode" data-ext="ws"><pre class="language-ws"><code>setAnimation:enter-from-left -target=fig-left -next;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="一部のプロパティを省略する" tabindex="-1"><a class="header-anchor" href="#一部のプロパティを省略する" aria-hidden="true">#</a> 一部のプロパティを省略する</h3><p>アニメーションで一部のプロパティだけを操作する必要がある場合は、アニメーションに参加しない他のプロパティを空欄にして、デフォルトのままにすることができます。</p><p><strong>例：<code>enter.json</code></strong></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">300</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="変換を使用する" tabindex="-1"><a class="header-anchor" href="#変換を使用する" aria-hidden="true">#</a> 変換を使用する</h3><p>持続時間が 0 ミリ秒で、タイムスライスが 1 つしかないアニメーションは、変換です。</p><p><strong>例：</strong></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;alpha&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="登場・退場のエフェクトを設定する" tabindex="-1"><a class="header-anchor" href="#登場・退場のエフェクトを設定する" aria-hidden="true">#</a> 登場・退場のエフェクトを設定する</h2><p>WebGAL のデフォルトのフェードイン・フェードアウトの登場・退場エフェクトを上書きして、独自のエフェクトに置き換えることもできます。例えば、以下のようにします。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>setTransition: -target=fig-center -enter=enter-from-bottom -exit=exit;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意：立ち絵や背景が設定されている場合にのみ、登場・退場エフェクトを設定することができます。登場・退場エフェクトを設定するコードは、立ち絵や背景の設定コードの <strong>後</strong> に記述します。また、登場・退場エフェクトを設定するステートメントは、立ち絵や背景を設定するステートメントの <strong>直後</strong> に連続して実行する必要があります。そうしないと、正しく適用されません。</p><div class="hint-container tip"><p class="hint-container-title">ヒント</p><p>なぜそうする必要があるのでしょうか？</p><p>立ち絵や背景を設定すると、立ち絵や背景にデフォルトの登場・退場アニメーションが設定されます。立ち絵や背景を設定した後、立ち絵や背景はすぐにステージに表示されるのではなく、登場・退場エフェクトの設定を待ちます。</p><p>立ち絵や背景を設定した後、すぐに登場・退場エフェクトを設定するステートメントを実行すると、デフォルトの登場・退場アニメーションを上書きして、登場・退場エフェクトをカスタマイズすることができます。設定しない場合は、登場・退場時にデフォルトのアニメーションが実行されます。</p><p>立ち絵や背景を設定した後、すぐに登場・退場エフェクトを設定せずに、画像がすでに登場してから登場アニメーションを上書きしても意味がありません。しかし、この時点で画像がまだ登場していない場合は、設定した登場アニメーションに意味があります。立ち絵や背景が登場する際に正しく適用されます。</p></div>`,23);function v(m,k){const a=l("ExternalLinkIcon");return o(),p("div",null,[d,n("p",null,[t("アニメーションファイルは JSON で記述されており、"),n("a",c,[t("リファレンスドキュメント"),i(a)]),t(" で JSON 構文を参照することができます。")]),u])}const f=e(r,[["render",v],["__file","animation.html.vue"]]);export{f as default};
