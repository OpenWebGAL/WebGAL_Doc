(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{306:function(t,a,e){"use strict";e.r(a);var s=e(14),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ゲームを-android-プラットフォームにパッケージ化する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ゲームを-android-プラットフォームにパッケージ化する"}},[t._v("#")]),t._v(" ゲームを Android プラットフォームにパッケージ化する")]),t._v(" "),a("h2",{attrs:{id:"事前準備"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事前準備"}},[t._v("#")]),t._v(" 事前準備")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("ヒント")]),t._v(" "),a("p",[t._v("WebGAL エディターを使用してゲームを自動的にエクスポートするゲーム開発者は、Android Studio をインストールするだけです。")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.android.google.cn/studio/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android Studio"),a("OutboundLink")],1),t._v(" をダウンロードして、インストールする.")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/MakinoharaShoko/WebGAL",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebGAL"),a("OutboundLink")],1),t._v(" を使用して開発したゲームをウェブバージョンにエクスポートする。")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/nini22P/WebGAL-Android",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebGAL Android ゲームのテンプレート"),a("OutboundLink")],1),t._v(" をダウンロードする.")])]),t._v(" "),a("h2",{attrs:{id:"その-1-ゲームを自動的にエクスポートする"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#その-1-ゲームを自動的にエクスポートする"}},[t._v("#")]),t._v(" その 1: ゲームを自動的にエクスポートする")]),t._v(" "),a("p",[a("strong",[t._v("WebGAL エディターユーザー向け")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("Android Studio を使用してプロジェクトから直接にエクスポートしたフォルダーを開きたい場合は、新しいゲームを作成するときに"),a("strong",[t._v("英語")]),t._v("のゲーム名を入力してください。ゲーム名がすでに中国語の場合は、"),a("code",[t._v("WebGAL_Terre\\public\\games")]),t._v(" を開いてゲーム名を変更し、プロジェクトのファイルパスに英語以外の文字がないことを確認してください。")])]),t._v(" "),a("h3",{attrs:{id:"エクスポートとゲーム情報の変更"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#エクスポートとゲーム情報の変更"}},[t._v("#")]),t._v(" エクスポートとゲーム情報の変更")]),t._v(" "),a("p",[t._v("WebGAL エディターの左側のサイドバーで、"),a("code",[t._v("ゲーム名")]),t._v("と"),a("code",[t._v("パッケージ名")]),t._v("を変更することができます。パッケージ名は、逆に書かれたウェブサイトのドメイン名です。ドメイン名をお持ちでない場合は、"),a("code",[t._v("webgaldev.mygalgame")]),t._v(" のように、開発者とゲーム名の組み合わせの使用することを検討してください。"),a("strong",[t._v("半角英字")]),t._v("のみ使用可能**です。")]),t._v(" "),a("p",[t._v("WebGAL エディターの右上隅にある"),a("strong",[t._v("ゲームを出力")]),t._v("をクリックし、"),a("strong",[t._v("Androidアプリとしてエクスポート")]),t._v("を選択します。Android Studio を開いて、エクスポートした "),a("code",[t._v("android")]),t._v(" フォルダーを選択し、依存関係のダウンロードが完了するのを待ちます。")]),t._v(" "),a("p",[t._v("メニューバーの "),a("code",[t._v("File -> New -> Image Asset")]),t._v(" をクリックして、ゲームアイコンを変更します。アイコンは前面と背面のレイヤーに分割されていることに注意してください。")]),t._v(" "),a("h3",{attrs:{id:"実行とコンパイル"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#実行とコンパイル"}},[t._v("#")]),t._v(" 実行とコンパイル")]),t._v(" "),a("p",[t._v("Android スマートフォンで USB デバッグをオンにして、コンピューターに接続します。上部のツールバーのデバイスタイトルの横にある実行アイコンをクリックして、スマホで実行します。")]),t._v(" "),a("p",[t._v("メニューバーの "),a("code",[t._v("Build -> Generate Signed Bundle or APK")]),t._v(" をクリックし、プロンプトに従ってキーを作成してコンパイルし、コンパイルが完了するのを待ちます。")]),t._v(" "),a("h2",{attrs:{id:"その-2-ゲームを手動編集する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#その-2-ゲームを手動編集する"}},[t._v("#")]),t._v(" その 2: ゲームを手動編集する")]),t._v(" "),a("p",[a("strong",[t._v("スクリプトの作成やソースからコンパイルしてローカルでゲームを開発する開発者向け")])]),t._v(" "),a("h3",{attrs:{id:"ゲームのインポート"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ゲームのインポート"}},[t._v("#")]),t._v(" ゲームのインポート")]),t._v(" "),a("p",[t._v("まずゲームを Web ページとしてエクスポートし、"),a("a",{attrs:{href:"https://github.com/nini22P/WebGAL-Android",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebGAL Android ゲームのテンプレート"),a("OutboundLink")],1),t._v("を解凍し、フォルダーの名前を変更します(必ず半角英字を使用してください)。"),a("code",[t._v("ルート\\app\\src\\main\\assets\\webgal")]),t._v(" フォルダーを開き、パッケージ化するゲームをここに配置します。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("ヒント")]),t._v(" "),a("p",[a("code",[t._v("ルート\\app\\src\\main\\assets\\webgal\\index.html")]),t._v(" を読み込むのはゲームのデフォルト設定です。読み込みリンク(オンラインリンクなど)をカスタマイズする場合は、"),a("code",[t._v("ルート\\app\\src\\main\\res\\values\\values.xml")]),t._v(" ファイルにある "),a("code",[t._v("load_url")]),t._v(" の値を変更してください。")])]),t._v(" "),a("h3",{attrs:{id:"情報の変更"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#情報の変更"}},[t._v("#")]),t._v(" 情報の変更")]),t._v(" "),a("p",[t._v("Android Studio を開いてゲームをインポートします。"),a("code",[t._v("ルート\\settings.gradle")]),t._v(" ファイルにある "),a("code",[t._v("rootProject.name")]),t._v(" の値を変更します。")]),t._v(" "),a("div",{staticClass:"language-gradle extra-class"},[a("pre",{pre:!0,attrs:{class:"language-gradle"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\nrootProject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token interpolation-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WebGAL"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ゲーム名を変更する")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n")])])]),a("p",[a("code",[t._v("ルート\\app\\src\\main\\res\\values\\strings.xml")]),t._v(" ファイルにあるゲーム名を変更します。")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("resources")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("WebGAL"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" // ゲーム名を変更する\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("resources")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("code",[t._v("ルート\\app\\build.gradle")]),t._v(" にある "),a("code",[t._v("namespace")]),t._v(" と "),a("code",[t._v("applicationId")]),t._v(" の値を逆に書かれたウェブサイトのドメイン名に変更します。")]),t._v(" "),a("div",{staticClass:"language-gradle extra-class"},[a("pre",{pre:!0,attrs:{class:"language-gradle"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\nandroid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    namespace "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.openwebgal.demo'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// パッケージ名を変更する")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    defaultConfig "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        applicationId "),a("span",{pre:!0,attrs:{class:"token interpolation-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.openwebgal.demo"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// パッケージ名を変更する")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n")])])]),a("p",[t._v("メニューバーの "),a("code",[t._v("File -> Sync Project with Gradle files")]),t._v(" をクリックして、同期が完了するのを待ちます。")]),t._v(" "),a("p",[a("code",[t._v("ルート\\app\\src\\main\\java\\com\\openwebgal\\demo\\MainActivity.kt")]),t._v(" の最初の行の "),a("code",[t._v("package")]),t._v(" の値を変更したパッケージ名に変更します。")]),t._v(" "),a("div",{staticClass:"language-kotlin extra-class"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("openwebgal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demo "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// パッケージ名を変更す")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),a("p",[t._v("このフィールドを変更すると、エラーが報告されます。この時点で、変更したパッケージ名をクリックし、「黄色の電球」をクリックして "),a("code",[t._v("Move file to 'パッケージ名'")]),t._v(" を選択し、元のパッケージ名のフォルダーを削除します。")]),t._v(" "),a("p",[t._v("メニューバーの "),a("code",[t._v("File -> New -> Image Asset")]),t._v(" をクリックして、ゲームアイコンを変更します。アイコンは二つのレイヤーに分割されていることに注意してください。")]),t._v(" "),a("h3",{attrs:{id:"実行とコンパイル-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#実行とコンパイル-2"}},[t._v("#")]),t._v(" 実行とコンパイル")]),t._v(" "),a("p",[t._v("Android スマートフォンで USB デバッグをオンにして、コンピューターに接続します。上部のツールバーのデバイスタイトルの横にある実行アイコンをクリックして、スマホで実行します。")]),t._v(" "),a("p",[t._v("メニューバーの "),a("code",[t._v("Build -> Generate Signed Bundle or APK")]),t._v(" をクリックし、プロンプトに従ってキーを作成してコンパイルし、コンパイルが完了するのを待ちます。")]),t._v(" "),a("h2",{attrs:{id:"ビデオチュートリアル-その-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ビデオチュートリアル-その-2"}},[t._v("#")]),t._v(" ビデオチュートリアル (その 2)")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.bilibili.com/video/BV1m24y1J7ct/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android Studio を使用して WebGAL ゲームを Android プラットフォームにパッケージ化する"),a("OutboundLink")],1),t._v(" (Chinese)")]),t._v(" "),a("h2",{attrs:{id:"互換性とソリューション"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#互換性とソリューション"}},[t._v("#")]),t._v(" 互換性とソリューション")]),t._v(" "),a("p",[t._v("現在サポートされている最も古いバージョンは Android 5.0 であり、システムにプリインストールされている Android System WebView に依存しています。ホーム画面をクリックした後にデバイスがブラックアウトする場合は、次のいずれかの解決策を試してください。")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.google.android.webview",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android System WebView"),a("OutboundLink")],1),t._v("を更新するために Google Play Store に移動する")]),t._v(" "),a("li",[t._v("手動で Android System WebView をダウンロードして更新する")])]),t._v(" "),a("p",[t._v("Android System WebView のダウンロードリンク: "),a("a",{attrs:{href:"https://www.apkmirror.com/apk/google-inc/android-system-webview/android-system-webview-95-0-4638-74-release/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android 5.0"),a("OutboundLink")],1),t._v(" | "),a("a",{attrs:{href:"https://www.apkmirror.com/apk/google-inc/android-system-webview/android-system-webview-106-0-5249-126-release/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android 6.0"),a("OutboundLink")],1),t._v(" | "),a("a",{attrs:{href:"https://www.apkmirror.com/apk/google-inc/android-system-webview/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android 7.0+"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);