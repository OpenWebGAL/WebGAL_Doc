(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{421:function(t,s,a){"use strict";a.r(s);var e=a(62),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"开发信息文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发信息文档"}},[t._v("#")]),t._v(" 开发信息文档")]),t._v(" "),a("h2",{attrs:{id:"分支说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支说明"}},[t._v("#")]),t._v(" 分支说明")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("main: 稳定版\n4.X-dev: WebGAL 4.x 开发版\n其他分支: 旧版本的留档\n")])])]),a("h2",{attrs:{id:"更新计划"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新计划"}},[t._v("#")]),t._v(" 更新计划")]),t._v(" "),a("h3",{attrs:{id:"_2022年5月"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2022年5月"}},[t._v("#")]),t._v(" 2022年5月")]),t._v(" "),a("h4",{attrs:{id:"webgal-引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webgal-引擎"}},[t._v("#")]),t._v(" WebGAL 引擎")]),t._v(" "),a("p",[t._v("1、添加变量与条件判断语法")]),t._v(" "),a("p",[t._v("2、添加 CG、bgm 鉴赏")]),t._v(" "),a("p",[t._v("3、设置界面分为三个字项，分别对应游戏、图像与音频设置")]),t._v(" "),a("p",[t._v("4、添加立绘随对话进程推进改变的演出效果")]),t._v(" "),a("p",[t._v("5、正式加入立绘的变换与特殊效果支持")]),t._v(" "),a("h4",{attrs:{id:"webgal-origine-开发工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webgal-origine-开发工具"}},[t._v("#")]),t._v(" WebGAL Origine 开发工具")]),t._v(" "),a("p",[t._v("（注意）该版本为WebGAL Origine 1.X 的最后一个版本，下个版本将会重构 WebGAL Origine。")]),t._v(" "),a("p",[t._v("1、添加游戏导出功能。")]),t._v(" "),a("p",[t._v("2、在脚本编辑器中加入一些重要脚本的编辑功能，但不会再做更多支持，直到编辑器重构。")]),t._v(" "),a("h4",{attrs:{id:"bug-fix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bug-fix"}},[t._v("#")]),t._v(" Bug Fix")]),t._v(" "),a("p",[t._v("1、修复引擎立绘或背景没有默认动画的问题（已修复）")]),t._v(" "),a("p",[t._v("2、修复人物立绘样式问题（已修复）")]),t._v(" "),a("p",[t._v("3、修复在播放视频时回主页视频仍在播放问题（已修复）")]),t._v(" "),a("p",[t._v("4、修复 SW 导致内容不更新问题")]),t._v(" "),a("h1",{attrs:{id:"贡献者指引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#贡献者指引"}},[t._v("#")]),t._v(" 贡献者指引")]),t._v(" "),a("h2",{attrs:{id:"有关脚本格式的说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#有关脚本格式的说明"}},[t._v("#")]),t._v(" 有关脚本格式的说明")]),t._v(" "),a("p",[t._v("语法：")]),t._v(" "),a("p",[a("code",[t._v("command:content -parameter1 -parameter2 ......;")])]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("p",[a("code",[t._v("changeFigure:testFigure04.png -left -next;")])]),t._v(" "),a("h2",{attrs:{id:"自定义演出的调用说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义演出的调用说明"}},[t._v("#")]),t._v(" 自定义演出的调用说明")]),t._v(" "),a("p",[t._v("如果你希望使用引擎调用一个自定义演出，请按照以下步骤逐步将你的脚本语句、演出调用与 WebGAL 整合。")]),t._v(" "),a("h3",{attrs:{id:"第一步、设计自定义脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一步、设计自定义脚本"}},[t._v("#")]),t._v(" 第一步、设计自定义脚本")]),t._v(" "),a("p",[t._v("脚本的组成如前文所述，由命令、语句内容和参数列表组成。首先，你需要设计一段命令，用于执行你的自定义演出。")]),t._v(" "),a("p",[t._v("例如，你希望展示一段 cg 。")]),t._v(" "),a("p",[t._v("这时，你可以将命令设计为 cg 。命令的命名方式遵循小驼峰命名法。你也可以命名为 showCg 。")]),t._v(" "),a("p",[t._v("现在，你需要将命令的主要部分作为语句内容。比如说 cg 图像的文件名。")]),t._v(" "),a("p",[a("code",[t._v("cg:cg1.png;")])]),t._v(" "),a("p",[t._v("这样，一个基本的自定义脚本就设计好了。接下来介绍如何设计参数。")]),t._v(" "),a("p",[t._v("WebGAL 内置了一些参数，用于控制基本的流程。比如说 "),a("code",[t._v("-next")]),t._v(" 这代表在这条语句执行后，无条件执行下一条语句，直至没有含有 "),a("code",[t._v("-next")]),t._v(" 参数的语句为止。")]),t._v(" "),a("p",[t._v("如果你希望自定义参数，你可以将参数设计为 "),a("code",[t._v("-key:value")]),t._v(" 的形式。")]),t._v(" "),a("p",[t._v("比如： "),a("code",[t._v("-duration=1s")]),t._v(" "),a("code",[t._v("isHoldOn=true")]),t._v(" "),a("code",[t._v("target_id=1")])]),t._v(" "),a("p",[t._v("如你所见，参数的值的类型可以是： 字符串、布尔值、数值。 WebGAL 会自动推算参数的类型。")]),t._v(" "),a("p",[t._v("如果一个参数的值的类型是布尔值，那么假如你希望设置这个值为 "),a("code",[t._v("true")]),t._v(" ，你可以使用简化写法："),a("code",[t._v("-key")]),t._v("。")]),t._v(" "),a("p",[t._v("在引擎里，其会被自动转化为 "),a("code",[t._v("-key=true")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"第二步、在脚本解析器里解析你的脚本。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二步、在脚本解析器里解析你的脚本。"}},[t._v("#")]),t._v(" 第二步、在脚本解析器里解析你的脚本。")]),t._v(" "),a("p",[t._v("脚本解析器的代码位于 "),a("code",[t._v("src/Core/parser")]),t._v(" 目录内。")]),t._v(" "),a("p",[t._v("首先，你需要将脚本的命令部分解析为一个引擎内部表示的命令。你需要编辑 "),a("code",[t._v("src/Core/interface/sceneInterface")]),t._v(" 中的 "),a("code",[t._v("commandType")]),t._v(" 枚举类型，加入你的自定义脚本的类型。")]),t._v(" "),a("p",[t._v("然后，编辑 "),a("code",[t._v("src/Core/parser/scriptParser/commandParser.ts")]),t._v(" 来将你设计的脚本命令的字符串表示与引擎的内部表示对应起来。")]),t._v(" "),a("p",[t._v("如果你希望你的脚本在执行时自动执行下一句脚本（比如你改变了bgm，很显然你希望这一句脚本不会导致游戏流程的暂停，而是继续执行下一条语句），那么就在文件末尾处的 "),a("code",[t._v("nextList")]),t._v(" 中加入你的自定义脚本的类型。")]),t._v(" "),a("h4",{attrs:{id:"将语句中的文件名解析为资源路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将语句中的文件名解析为资源路径"}},[t._v("#")]),t._v(" 将语句中的文件名解析为资源路径")]),t._v(" "),a("p",[a("strong",[t._v("如果你的语句不包含资源，那么这一步你什么都不用做。")])]),t._v(" "),a("p",[t._v("现在，让我们将脚本内容中的文件名解析为引擎可以获取的路径。")]),t._v(" "),a("p",[t._v("编辑 "),a("code",[t._v("src/Core/parser/scriptParser/contentParser.ts")]),t._v(" ，将你的脚本所需要获取的资源类型与资源所在的目录对应起来。")]),t._v(" "),a("p",[t._v("WebGAL 有几种内置的文件类型：")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("enum")]),t._v(" fileType "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    background"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    bgm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    figure"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    tex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    vocal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    video\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("它们分别对应着 背景图像、背景音乐、人物立绘、场景文件、纹理文件、语音文件、视频文件。")]),t._v(" "),a("p",[t._v("如果你的自定义脚本所需要获取的资源在以上文件目录中，那么你可以直接调用 "),a("code",[t._v("assetSetter")]),t._v(" 函数来将文件名转为实际的资源路径。")]),t._v(" "),a("p",[t._v("一个例子： "),a("code",[t._v("assetSetter(contentRaw, fileType.background);")])]),t._v(" "),a("p",[t._v("其中，"),a("code",[t._v("contentRaw")]),t._v(" 是你的脚本的语句内容。WebGAL 会自动将参数和命令切割走，以保证在进行资源获取时不会出现干扰资源获取的字符。")]),t._v(" "),a("p",[t._v("如果你的资源类型不属于以上任意一种类型，你需要在 "),a("code",[t._v("src/Core/util/assetSetter.ts")]),t._v(" 中将资源类型与资源所在的目录对应起来。")]),t._v(" "),a("h4",{attrs:{id:"预加载语句的资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预加载语句的资源"}},[t._v("#")]),t._v(" 预加载语句的资源")]),t._v(" "),a("p",[t._v("如果你的语句包含资源，你肯定希望这个资源可以在引擎运行时预加载，以获得更流畅的游戏体验。")]),t._v(" "),a("p",[t._v("编辑 "),a("code",[t._v("src/Core/parser/scriptParser/assetsScanner.ts")]),t._v(" ，然后将你所需要的资源用一个对象表示出来：")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//资源名称")]),t._v("\n    url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//资源所在路径，一般来说，在解析到这一步的时候， content 已经被转化为路径。")]),t._v("\n    lineNumber"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//资源所在的行号（目前预留，还没有实际作用）")]),t._v("\n    type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" fileType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("video"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//资源的类型")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"第三步、让演出调用器调用你的演出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三步、让演出调用器调用你的演出"}},[t._v("#")]),t._v(" 第三步、让演出调用器调用你的演出")]),t._v(" "),a("p",[t._v("接下来，你需要编写一个函数，实际地执行你希望执行的演出效果，并生成一个对象，用于让演出管理器可以管理这个演出。")]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("src/Core/controller/gamePlay/scripts")]),t._v(" 中找到 "),a("code",[t._v("template.ts")]),t._v(" 将其复制一份，并重命名。")]),t._v(" "),a("p",[t._v("这个函数接受一个类型为 ISentence 的参数，这个参数表示着你的自定义演出语句的全部信息。")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 单条语句接口\n * @interface ISentence\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ISentence")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    command"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" commandType "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 语句类型")]),t._v("\n    commandRaw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 命令的原始内容，方便调试")]),t._v("\n    content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 语句内容")]),t._v("\n    args"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("arg"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 参数列表")]),t._v("\n    sentenceAssets"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IAsset"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 语句携带的资源列表，预加载用")]),t._v("\n    subScene"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 语句包含子场景列表，预加载用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 语句执行的模板代码\n * @param sentence\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" template "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sentence"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ISentence"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" IPerform "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 在这里编写你的自定义演出执行的逻辑。\n     */")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        performName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'演出名称'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在这里填写你的演出的名称，none代表这个语句只改变状态，不发生任何演出。")]),t._v("\n        duration"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在这里填写你的演出完成所需要的时间，单位为ms")]),t._v("\n        isOver"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//演出是否结束，如果这个值为false，那么演出将不会阻塞用户点击和自动播放")]),t._v("\n        isHoldOn"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//演出是否会在语句结束后保持。所有非保持类型的演出会在当前的对话结束后被自动清除")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("stopFunction")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//卸载或停止演出的函数。演出结束后会被自动调用，请在这里编写演出结束时卸载演出的逻辑。")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("blockingNext")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否要阻塞用户点击，是一个函数，返回布尔值，代表要不要阻塞")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("blockingAuto")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否要阻塞自动播放，是一个函数，返回布尔值，代表要不要阻塞")]),t._v("\n        stopTimeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一般来说，这个计时器会被自动设置")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"最后一步、将你的演出函数与命令类型对应起来。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最后一步、将你的演出函数与命令类型对应起来。"}},[t._v("#")]),t._v(" 最后一步、将你的演出函数与命令类型对应起来。")]),t._v(" "),a("p",[t._v("编辑 "),a("code",[t._v("src/Core/controller/gamePlay/runScript.ts")]),t._v(" 中的"),a("code",[t._v("scriptToFuncMap")]),t._v(" ，在数组中添加一个元素：")]),t._v(" "),a("p",[a("code",[t._v("[commandType.performType, performFunc]")])]),t._v(" "),a("p",[t._v("这样，你的演出调用函数就和演出类型对应起来了。")]),t._v(" "),a("p",[a("strong",[t._v("你的自定义演出现在可以被 WebGAL 调用了。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);