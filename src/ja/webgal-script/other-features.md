# その他の機能

WebGALは、より豊かなゲーム体験を作成するのに役立つその他の便利な機能も提供しています。

## 映画モード

映画モードは、ビデオプレーヤーの「シネマモード」のような、より没入感のある視聴体験を作成します。

### 映画モードを有効にする

``` ws
filmMode:on; // 映画モードを有効にする
filmMode:cinematic; // 映画モードを有効にする（パラメータ付き）
```

### 映画モードを無効にする

``` ws
filmMode:; // 映画モードを無効にする
filmMode:none; // 映画モードを無効にする
```

### 特徴

- 一部のUI要素を非表示にします
- 即座に効果を発揮し、スクリプトの実行をブロックしません
- 重要なプロットポイントや特別なシーンに適しています

### 使用例

``` ws
; 重要なプロットシーンに入る
filmMode:on;
changeBg:important_scene.jpg;
これは重要なプロットの対話です...;
; プロット終了後に映画モードを終了
filmMode:;
```

## CGのアンロック

背景変更時にCGを自動的にアンロックするほか、表示せずに別々にCGをアンロックすることもできます。

### 基本的な使用方法

``` ws
unlockCg:cg/scene1.jpg;
```

### CG名とシリーズの設定

``` ws
unlockCg:cg/ending_a.jpg -name=ハッピーエンディング;
unlockCg:cg/chapter2_01.jpg -name=初めての出会い -series=第2章;
```

### パラメータの説明

- `-name=名前` - CGの表示名を設定（デフォルトはファイルパスを使用）
- `-series=シリーズ名` - CGのシリーズ/カテゴリを設定（デフォルトは"default"）

### 特徴

- アンロックされたCGはユーザーデータに保存されます
- CGカテゴリ管理をサポートします
- 即座に効果を発揮し、スクリプトの実行をブロックしません

## BGMのアンロック

再生せずにBGMを鑑賞モードに別々にアンロックできます。

### 基本的な使用方法

``` ws
unlockBgm:s_Title.mp3;
```

### BGM名とシリーズの設定

``` ws
unlockBgm:s_Title.mp3 -name=Smiling-Swinging!!!;
unlockBgm:s_Title.mp3 -name=テーマソング -series=OP;
```

### パラメータの説明

- `-name=名前` - BGMの表示名を設定（デフォルトはファイルパスを使用）
- `-series=シリーズ名` - BGMのシリーズ/カテゴリを設定（デフォルトは"default"）

## テキストボックスの制御

テキストボックスの表示と非表示を制御し、フルスクリーンプレゼンテーションに適しています。

### テキストボックスを非表示にする

``` ws
setTextbox:hide;
```

### テキストボックスを表示する

``` ws
setTextbox:;
setTextbox:show;
```

### 使用シナリオ

``` ws
; フルスクリーンCGを表示
setTextbox:hide;
changeBg:fullscreen_cg.jpg;
wait:3000;
; テキストボックスを復元
setTextbox:;
なんて美しい風景でしょう！;
```

## 動的スタイル切り替え

UI要素のCSSクラス名を動的に置き換えて、テーマ切り替えなどの機能を実装できます。

### 単一スタイル置換

``` ws
applyStyle:textbox-default->textbox-dark;
```

### 一括スタイル置換

``` ws
applyStyle:btn-primary->btn-dark,text-light->text-dark,bg-light->bg-dark;
```

### 使用シナリオ

- 動的テーマ切り替え（例：昼/夜モード）
- 特定のシーンのUIスタイル変更
- プロットの必要に応じたインターフェーススタイル変更

### 例

``` ws
; 夜モードに切り替え
applyStyle:textbox-light->textbox-dark,btn-light->btn-dark;
; 特別なシーンスタイル
applyStyle:ui-normal->ui-horror;
```

## デバッグ機能

### すべての変数を表示

``` ws
showVars:;
```

現在のすべての変数の値（通常の変数とグローバル変数を含む）をJSON形式で対話ボックスに表示します。

### 使用シナリオ

- 複雑な変数ロジックのデバッグ
- 変数の状態確認
- 開発中のトラブルシューティング

## ゲーム終了

ゲーム終了時に使用し、タイトル画面に戻ります。

``` ws
end;
```

### 機能

- ゲームステージの状態をリセット
- クイックセーブをクリア
- 初期シーン（start.txt）を再読み込み
- タイトル画面のBGMを再生

## 待機コマンド

指定した時間だけゲームを一時停止します。

``` ws
wait:1000; // 1秒間待機
wait:500; // 0.5秒間待機
```

### 特徴

- 時間単位はミリ秒
- 自動的に次のステートメントにジャンプ
- プレゼンテーションのペース制御に適している

## 使用のヒント

1. **映画モードの合理的使用**: 重要なプロットポイントや特別なシーンで使用し、頻繁に切り替えない
2. **CGアンロックタイミング**: 適切なプロットポイントでCGをアンロックし、プレイヤーの達成感を向上させる
3. **テキストボックス制御**: 主にフルスクリーンプレゼンテーションに使用し、使用後は復元することを忘れない
4. **スタイル切り替え**: 切り替えるスタイルが存在することを確認し、スタイルエラーを避ける
5. **デバッグ機能**: 開発中に頻繁に使用し、リリース前にデバッグコードを削除することを忘れない

これらの機能は簡単に見えるかもしれませんが、適切に使用することでゲームの専門性とユーザー体験を大幅に向上させることができます。