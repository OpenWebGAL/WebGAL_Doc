# 音声

## BGM（バックグラウンドミュージック）を再生する

BGMを再生する方法はとても簡単で、BGMを`bgm`フォルダに配置して、`bgm`命令を使ってBGMを再生するだけです。

``` ws
bgm:夏影.mp3;
```

BGMには`-volume`パラメータを設定して、音量を調整することができます。

``` ws
bgm:夏影.mp3 -volume=30;
```

また、`-enter`パラメータを使って、フェードイン再生することができます。

``` ws
bgm:夏影.mp3 -enter=3000;
```

最後に、以下の文を使って、BGMをフェードアウトすることができます。

``` ws
bgm:none -enter=3000;
```

### BGMアンロック機能

BGMを再生すると同時に、BGMを鑑賞モードにアンロックすることもできます：

``` ws
bgm:夏影.mp3 -unlockname=夏之影 -series=season;
```

::: tip
`-volume`と`-enter`はどちらもオプションのパラメータです。
`-volume`を使用しない場合、または0〜100以外の値を使用した場合は、デフォルト値100が使用されます。
`-enter`を使用しない場合、または0〜以外の値を使用した場合は、デフォルト値0が使用されます。
`-unlockname`と`-series`パラメータは、BGMを鑑賞モードにアンロックするために使用されます。
:::

## 音声を再生する

ご存知の通り、ビジュアルノベルは優れた声優陣が演じることで、最も魅力的なものになります。音声ファイルを`vocal`フォルダに入れて、会話スクリプトに`-音声ファイル名`パラメータを追加すると、音声を再生することができます。構文の例を以下に示します。

``` ws
比企谷八幡:今来たばかりだ -V3.ogg;
```

連続会話の場合も、音声の導入方法は同じです。

``` ws
雪ノ下雪乃:随分早いですね -V1.ogg;
待たせちゃった？ -V2.ogg;
```

同時に`-volume`パラメータを設定して、音量を調整することができます。

``` ws
比企谷八幡:今来たばかりだ -V3.ogg -volume=30;
```

### 音声と立ち絵アニメーションの連動

音声再生時に立ち絵アニメーションと連動して、口の動きと瞬きアニメーションを実現できます：

``` ws
キャラクター名:このセリフには音声があります -V1.ogg -left; // 左側の立ち絵と関連付け
キャラクター名:このセリフには音声があります -V2.ogg -figureId=char1; // 指定IDの立ち絵と関連付け
```

::: tip
`-volume`はオプションのパラメータです。
`-volume`を設定しない場合、または0〜100以外の値を使用した場合は、デフォルト値100が使用されます。
`-left`、`-right`、`-center`パラメータは、音声と関連付ける立ち絵の位置を指定するために使用されます。
`-figureId`パラメータは、特定の立ち絵IDを指定するために使用されます。
:::

## 効果音を再生する

音声ファイルを`vocal`フォルダに入れた後、`playEffect`命令を使って効果音を再生することができます^_^

``` ws
playEffect:xxx.mp3;
```

効果音には`-volume`パラメータを設定して、音量を調整することができます。

``` ws
playEffect:xxx.mp3 -volume=30;
```

::: tip
`-volume`はオプションのパラメータです。
`-volume`を設定しない場合、または0〜100以外の値を使用した場合は、デフォルト値100が使用されます。
:::

### 効果音のループ再生

効果音に`id`を付与すると、自動的に効果音のループ再生が有効になり、同じ`id`を使用して停止することができます。

``` ws
playEffect:xxx.mp3 -id=xxx;
playEffect:none -id=xxx; // このループ効果音を停止する
```

## 音声をアンロックして鑑賞できるようにする

`unlockBgm`を使って、鑑賞できる音声のロックを解除します。

``` ws
; // bgmのロックを解除して名前を付ける
unlockBgm:s_Title.mp3 -name=Smiling-Swinging!!!;
unlockBgm:s_Title.mp3 -name=主題歌 -series=OP;
```

`-series`パラメータは、オーディオの所属シリーズを設定するために使用され、鑑賞モードでの分類管理に便利です。