# カスタマイズと貢献

## WebGAL ソースコードリポジトリ

[https://github.com/MakinoharaShoko/WebGAL](https://github.com/MakinoharaShoko/WebGAL)

## ブランチの説明

```
main: 安定版
dev: WebGAL 開発版
その他のブランチ: 過去のバージョンのアーカイブ
```

## アップデート計画

[WebGAL 情報](/info) を参照してください

## 貢献者ガイド

WebGAL Terre ビジュアルエディターに貢献したい場合は、[WebGAL Terre 貢献者ガイド](terre) を参照してください。

### 貢献の要件

貢献内容をよりよく理解し、レビューするために、以下の点にご注意ください。

* **コードコメント:** コードロジックを理解しやすくするために、主要なセクションにコメントを追加することをお勧めします。

* **機能テスト:** 機能を追加または変更した場合は、機能が期待どおりに動作することを確認するための対応するテスト方法を提供してください。コードをリファクタリングした場合は、影響を受ける範囲をカバーし、リファクタリングによって新しい問題が発生しないことを確認するためのテスト方法も提供してください。

* **明確な説明:** プルリクエストを送信する際には、行った変更とその理由を簡単に説明してください。これにより、貢献内容をより迅速に理解することができます。

### ローカルで WebGAL プロジェクトを起動する

WebGAL は現在、パッケージマネージャーとして yarn を、モノレポマネージャーとして yarn workspace を使用しています。

yarn がない場合は、次のコマンドを使用してインストールしてください。

```shell
npm install yarn -g
```

次に、プロジェクトのルートディレクトリで次のコマンドを実行します。

```shell
yarn
```

依存関係をインストールします。

このプロジェクトには、それぞれ異なる機能に対応する3つのパッケージがあります。

| パッケージ名 | 内容                       |
| ------------ | -------------------------- |
| parser      | WebGAL パーサー             |
| server      | WebGAL ローカルデバッグサーバー |
| webgal      | エンジンコア                 |
| yukimi      | 計画中の yukimi サポートライブラリ |

## ローカルで WebGAL エンジンプロジェクトを起動する

次のスクリプトを実行して開発サーバーを起動できます。

```shell
yarn dev
```

WebGAL をビルドする場合は、次のコマンドを使用します。

```shell
yarn build
```

パッケージ化された出力は `packages/webgal/dist` ディレクトリにあります。

## WebGAL テクノロジーについて

WebGAL はすでにかなりの規模のプロジェクトであり、直接コードに飛び込むと、最初は圧倒されるかもしれません。そのため、WebGAL テクノロジーを理解するための参考資料を用意しました。

[WebGAL 技術紹介](/ja/tech)

さらに、ソースコードの主要なディレクトリには、そのモジュールの原理を説明するドキュメントも用意しています。これらの情報は中国語で提供されます。今日では、大規模言語モデルの翻訳能力は十分に高いため、中国語が読めなくても心配する必要はありません。大規模言語モデルを使用して、自分の言語に翻訳してみてください。

## ビルドされた WebGAL を WebGAL Terre エディターにインポートする

::: tip
カスタマイズが完了したら、WebGAL エディターを使用してリアルタイムで簡単にプレビューとリソース管理を行いたい場合は、パッケージ化された成果物をコピーして貼り付け、エディターディレクトリの下にある `packages/terre2/assets/templates/WebGAL_Template` ディレクトリを置き換えることができます。これにより、WebGAL エディターに組み込まれているエンジンをカスタマイズしたものに置き換えることができます。WebGAL リポジトリと WebGAL_Terre リポジトリが同じディレクトリにある場合は、`release-to-terre` ショートカットスクリプトを使用して実行できます。
:::
